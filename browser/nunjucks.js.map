{"version":3,"sources":["../webpack/universalModuleDefinition","../webpack/bootstrap fba41d31e312524ecf08","../nunjucks/src/lib.js","../nunjucks/src/object.js","../nunjucks/src/runtime.js","../nunjucks/src/nodes.js","../nunjucks/src/compiler.js","../nunjucks/src/loader.js","../nunjucks/src/environment.js","../nunjucks/src/parser.js","../nunjucks/src/lexer.js","../nunjucks/src/web-loaders.js","../nunjucks/index.js","../node_modules/asap/browser-asap.js","../node_modules/asap/browser-raw.js","../node_modules/webpack/buildin/global.js","../node_modules/a-sync-waterfall/index.js","../node_modules/webpack/node_modules/events/events.js","../nunjucks/src/transformer.js","../nunjucks/src/filters.js","../nunjucks/src/precompiled-loader.js","../nunjucks/src/tests.js","../nunjucks/src/globals.js","../nunjucks/src/express-app.js","../nunjucks/src/precompile.js","../nunjucks/src/precompile-global.js","../nunjucks/src/jinja-compat.js"],"names":["ArrayProto","Array","prototype","ObjProto","Object","escapeMap","escapeRegex","exports","module","hasOwnProp","obj","k","hasOwnProperty","call","lookupEscape","ch","_prettifyError","path","withInternals","err","Update","TemplateError","old","Error","message","name","lineno","colno","cause","setPrototypeOf","defineProperty","enumerable","writable","value","captureStackTrace","constructor","getStack","stackDescriptor","getOwnPropertyDescriptor","get","stack","firstUpdate","msg","create","escape","val","replace","isFunction","toString","isArray","isString","isObject","_prepareAttributeParts","attr","split","getAttrGetter","attribute","parts","attrGetter","item","_item","i","length","part","undefined","groupBy","throwOnUndefined","result","iterator","key","TypeError","push","toArray","slice","without","array","contains","arguments","index","indexOf","repeat","char_","n","str","each","func","context","forEach","l","map","results","asyncIter","arr","iter","cb","next","asyncFor","keys","keys_","len","searchElement","fromIndex","_entries","_values","extend","obj1","obj2","_assign","inOperator","_defineProperties","target","props","descriptor","configurable","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","t","_toPrimitive","String","r","e","Symbol","toPrimitive","Number","_inheritsLoose","subClass","superClass","_setPrototypeOf","o","p","bind","__proto__","EventEmitter","require","lib","parentWrap","parent","prop","wrap","tmp","res","apply","extendClass","cls","subclass","_cls","Obj","init","_proto","EmitterObj","_EventEmitter","_this2","_this","_proto2","arrayFrom","from","supportsIterators","Frame","isolateWrites","variables","topLevel","set","resolveUp","frame","resolve","id","lookup","forWrite","pop","makeMacro","argNames","kwargNames","macro","_len","macroArgs","_key","argCount","numArgs","args","kwargs","getKeywordArgs","arg","makeKeywordArgs","__keywords","isKeywordArgs","lastArg","SafeString","valueOf","copySafeness","dest","markSafe","type","wrapSafe","ret","suppressValue","autoescape","ensureDefined","memberLookup","_len2","_key2","callWrap","contextOrFrameLookup","handleError","error","asyncEach","dimen","iterCallback","asyncAll","finished","outputArr","done","output","join","fromIterator","_require","traverseAndCheck","Node","findAll","_Obj","_arguments","fields","field","NodeList","children","child","iterFields","_this3","Value","_Node","_Node2","nodes","addChild","node","Root","Literal","Group","ArrayNode","Pair","Dict","LookupVal","If","IfAsync","InlineIf","For","AsyncEach","AsyncAll","Macro","Caller","Import","FromImport","_Node3","_proto3","template","names","withContext","FunCall","Filter","FilterAsync","KeywordArgs","Block","Super","TemplateRef","Extends","Include","Set","Switch","Case","Output","Capture","TemplateData","UnaryOp","BinOp","In","Is","Or","And","Not","Add","Concat","Sub","Mul","Div","FloorDiv","Mod","Pow","Neg","Pos","Compare","CompareOperand","CallExtension","ext","contentArgs","extName","__name","CallExtensionAsync","print","indent","inline","lines","line","process","stdout","write","nl","printNodes","typename","fieldName","JSON","stringify","_ref","parser","transformer","_require2","_require3","compareOps","Compiler","templateName","codebuf","lastId","buffer","bufferStack","_scopeClosers","inBlock","fail","_pushBuffer","_tmpid","_emit","_popBuffer","code","_emitLine","_emitLines","_emitFuncBegin","_emitFuncEnd","noReturn","_closeScopeLevels","_addScopeLevel","_withScopedSyntax","_makeCallback","_templateName","_compileChildren","compile","_compileAggregate","startChar","endChar","_compileExpression","assertType","types","some","compileCallExtension","async","_this4","compileCallExtensionAsync","compileNodeList","compileLiteral","compileSymbol","v","compileGroup","compileArray","compileDict","compilePair","compileInlineIf","cond","body","else_","compileIn","left","right","compileIs","_binOpEmitter","compileOr","compileAnd","compileAdd","compileConcat","compileSub","compileMul","compileDiv","compileMod","compileNot","compileFloorDiv","compilePow","compileNeg","compilePos","compileCompare","_this5","expr","ops","op","compileLookupVal","_getNodeName","compileFunCall","compileFilter","compileFilterAsync","symbol","compileKeywordArgs","compileSet","_this6","ids","targets","charAt","compileSwitch","_this7","cases","c","default","compileIf","_this8","compileIfAsync","_emitLoopBindings","_this9","bindings","b","compileFor","_this10","u","tid","_node$name$children","_compileAsyncLoop","parallel","_this11","asyncMethod","arrayLen","buf","compileAsyncEach","compileAsyncAll","_compileMacro","_this12","funcId","keepFrame","realNames","concat","currFrame","pair","bufferId","compileMacro","compileCaller","_compileGetTemplate","eagerCompile","ignoreMissing","parentTemplateId","parentName","eagerCompileArg","ignoreMissingArg","compileImport","compileFromImport","_this13","importedId","nameNode","alias","compileBlock","compileSuper","blockName","compileExtends","compileInclude","id2","compileTemplateData","compileCapture","_this14","compileOutput","_this15","compileRoot","_this16","blockNames","blocks","block","tmpFrame","_compile","getCode","src","asyncFilters","extensions","opts","preprocessors","preprocess","filter","f","processedSrc","reduce","s","processor","transform","parse","_EmitterObj","Loader","to","dirname","isRelative","filename","asap","waterfall","compiler","filters","FileSystemLoader","WebLoader","PrecompiledLoader","tests","globals","globalRuntime","expressApp","callbackAsap","noopTmplSrc","root","env","runtime","Environment","loaders","dev","trimBlocks","lstripBlocks","window","nunjucksPrecompiled","unshift","_initLoaders","extensionsList","addFilter","_ref2","test","addTest","loader","cache","on","fullname","emit","source","invalidateCache","addExtension","extension","removeExtension","getExtension","hasExtension","addGlobal","getGlobal","wrapped","getFilter","getTest","resolveTemplate","getTemplate","that","tmpl","raw","Template","syncResult","createTemplate","info","newTmpl","noCache","handle","getSource","express","app","render","ctx","renderString","tasks","callback","forceAsync","Context","exported","addBlock","setVariable","getVariables","getBlock","getSuper","idx","blk","addExport","getExported","_Obj2","tmplProps","tmplStr","compiled","parentFrame","didError","rootRenderFunc","Function","_getBlocks","lexer","Parser","tokens","peeked","breakOnBlocks","dropLeadingWhitespace","nextToken","withWhitespace","tok","TOKEN_WHITESPACE","peekToken","pushToken","skip","expect","skipValue","skipSymbol","TOKEN_SYMBOL","advanceAfterBlockEnd","TOKEN_BLOCK_END","advanceAfterVariableEnd","TOKEN_VARIABLE_END","tags","VARIABLE_END","parseFor","forTok","endBlock","parsePrimary","TOKEN_COMMA","prim","parseExpression","parseUntilBlocks","parseMacro","macroTok","parseSignature","parseCall","callTok","callerArgs","macroCall","callerName","callerNode","parseWithContext","parseImport","importTok","parseFrom","fromTok","nextTok","parseBlock","tag","parseExtends","tagName","parseInclude","parseIf","parseSet","TOKEN_OPERATOR","parseSwitch","switchStart","switchEnd","caseStart","caseDefault","defaultCase","col","parseStatement","parseRaw","parseFilterStatement","endTagName","rawBlockRegex","RegExp","rawLevel","matches","begun","_extractRegex","all","pre","backN","parsePostfix","TOKEN_LEFT_PAREN","TOKEN_LEFT_BRACKET","parseAggregate","parseInlineIf","parseOr","condNode","bodyNode","parseAnd","node2","parseNot","parseIn","parseIs","invert","parseCompare","not","parseConcat","parseAdd","TOKEN_TILDE","parseSub","parseMul","parseDiv","parseFloorDiv","parseMod","parsePow","parseUnary","noFilters","parseFilter","noPostfix","TOKEN_STRING","TOKEN_INT","parseInt","TOKEN_FLOAT","parseFloat","TOKEN_BOOLEAN","TOKEN_NONE","TOKEN_REGEX","flags","parseFilterName","parseFilterArgs","TOKEN_PIPE","filterTok","TOKEN_LEFT_CURLY","TOKEN_RIGHT_PAREN","TOKEN_RIGHT_BRACKET","TOKEN_RIGHT_CURLY","TOKEN_COLON","tolerant","noParens","checkComma","prev","parseNodes","TOKEN_DATA","data","nextVal","TOKEN_BLOCK_START","TOKEN_VARIABLE_START","VARIABLE_START","TOKEN_COMMENT","COMMENT_START","COMMENT_END","parseAsRoot","lex","whitespaceChars","delimChars","intChars","BLOCK_START","BLOCK_END","TOKEN_SPECIAL","token","Tokenizer","in_code","blockStart","blockEnd","variableStart","variableEnd","commentStart","commentEnd","cur","current","isFinished","_parseString","_extract","_extractString","forward","back","forwardN","regexBody","previous","POSSIBLE_FLAGS","regexFlags","isCurrentAFlag","complexOps","curComplex","_extractUntil","match","dec","beginChars","inComment","_matches","lastLine","delimiter","m","charString","_extractMatching","breakOnMatch","first","regex","currentStr","lastIndexOf","substr","_Loader","baseURL","useCache","fetch","content","status","url","ajax","XMLHttpRequest","loading","onreadystatechange","readyState","responseText","Date","getTime","open","send","precompile","installJinjaCompat","configure","templatesPath","TemplateLoader","watch","web","NodeResolveLoader","reset","precompileString","sym","gensym","mapCOW","walk","ast","depthFirst","astT","propsT","depthWalk","_liftFilters","walked","descNode","liftFilters","liftSuper","blockNode","hasSuper","convertStatements","cps","normalize","defaultValue","abs","Math","isNaN","num","batch","linecount","fillWith","capitalize","toLowerCase","toUpperCase","center","width","spaces","post","default_","def","bool","dictsort","caseSensitive","by","si","sort","t1","t2","a","dump","safe","forceescape","groupby","indentfirst","sp","del","last","lengthFilter","Map","size","list","lower","nl2br","random","floor","getSelectOrReject","expectedTestResult","testName","secondArg","examineTestResult","reject","rejectattr","select","selectattr","new_","maxCount","originalStr","nextIndex","pos","count","substring","reverse","round","precision","method","factor","pow","rounder","ceil","slices","sliceLength","extra","offset","start","end","currSlice","sum","sortFilter","reversed","caseSens","getAttribute","x","y","string","striptags","input","preserveLinebreaks","trimmedInput","trim","title","words","word","truncate","killwords","orig","upper","urlencode","enc","encodeURIComponent","keyvals","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","urlize","nofollow","Infinity","noFollowAttr","possibleUrl","shortUrl","wordcount","float","intFilter","doInt","base","int","d","compiledTemplates","precompiled","callable","defined","divisibleby","one","two","escaped","equalto","eq","sameas","even","falsy","ge","greaterthan","gt","le","lessthan","lt","ne","nullTest","null","number","odd","truthy","undefinedTest","iterable","mapping","cycler","items","joiner","sep","range","stop","step","NunjucksView","defaultEngine","extname","fs","precompileGlobal","patterns","pattern","wrapper","_precompile","pathStats","existsSync","statSync","templates","addTemplates","dir","readdirSync","file","filepath","subpath","stat","isDirectory","exclude","include","isFile","readFileSync","force","console","out","asFunction","installCompat","orig_contextOrFrameLookup","orig_memberLookup","orig_Compiler_assertType","orig_Parser_parseAggregate","uninstall","getTokensState","Slice","compileSlice","origState","errState","rethrow","isSlice","sliceLookup","ARRAY_MEMBERS","splice","append","element","remove","find","insert","elem","OBJECT_MEMBERS","values","has_key","popitem","setdefault","update","iteritems","itervalues","iterkeys"],"mappings":"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A;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;ACjEA,8CAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9NA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA,MAAM,IAA2C;AACjD,IAAI,iCAAO,EAAE,mCAAE;AACf;AACA,KAAK;AAAA,oGAAC,CAAC;AACP,GAAG;AACH,+BAA+B;AAC/B,GAAG;AACH,kCAAkC;AAClC;AACA,CAAC;;;;;;;;AClFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;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","file":"nunjucks.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nunjucks\"] = factory();\n\telse\n\t\troot[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fba41d31e312524ecf08","'use strict';\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\\\\': '&#92;',\n};\n\nvar escapeRegex = /[&\"'<>\\\\]/g;\n\nvar exports = module.exports = {};\n\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\n\nexports.hasOwnProp = hasOwnProp;\n\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\n\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new exports.TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    const old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n\n  return err;\n}\n\nexports._prettifyError = _prettifyError;\n\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n\n  if (message instanceof Error) {\n    cause = message;\n    message = `${cause.name}: ${cause.message}`;\n  }\n\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message,\n    });\n  }\n\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error',\n  });\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n\n  let getStack;\n\n  if (cause) {\n    const stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || (() => stackDescriptor.value));\n    if (!getStack) {\n      getStack = () => cause.stack;\n    }\n  } else {\n    const stack = (new Error(message)).stack;\n    getStack = (() => stack);\n  }\n\n  Object.defineProperty(err, 'stack', {\n    get: () => getStack.call(err),\n  });\n\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n\n  err.Update = function Update(path) {\n    let msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += ` [Line ${this.lineno}, Column ${this.colno}]`;\n      } else if (this.lineno) {\n        msg += ` [Line ${this.lineno}]`;\n      }\n    }\n\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n\n  return err;\n}\n\n\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError,\n    },\n  });\n}\n\nexports.TemplateError = TemplateError;\n\nfunction escape(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\n\nexports.escape = escape;\n\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\n\nexports.isFunction = isFunction;\n\nfunction isArray(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\n\nexports.isArray = isArray;\n\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\n\nexports.isString = isString;\n\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\n\nexports.isObject = isObject;\n\n/**\n * @param {string|number} attr\n * @returns {(string|number)[]}\n * @private\n */\nfunction _prepareAttributeParts(attr) {\n  if (!attr) {\n    return [];\n  }\n\n  if (typeof attr === 'string') {\n    return attr.split('.');\n  }\n\n  return [attr];\n}\n\n/**\n * @param {string}   attribute      Attribute value. Dots allowed.\n * @returns {function(Object): *}\n */\nfunction getAttrGetter(attribute) {\n  const parts = _prepareAttributeParts(attribute);\n\n  return function attrGetter(item) {\n    let _item = item;\n\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n\n      // If item is not an object, and we still got parts to handle, it means\n      // that something goes wrong. Just roll out to undefined in that case.\n      if (hasOwnProp(_item, part)) {\n        _item = _item[part];\n      } else {\n        return undefined;\n      }\n    }\n\n    return _item;\n  };\n}\n\nexports.getAttrGetter = getAttrGetter;\n\nfunction groupBy(obj, val, throwOnUndefined) {\n  const result = {};\n  const iterator = isFunction(val) ? val : getAttrGetter(val);\n  for (let i = 0; i < obj.length; i++) {\n    const value = obj[i];\n    const key = iterator(value, i);\n    if (key === undefined && throwOnUndefined === true) {\n      throw new TypeError(`groupby: attribute \"${val}\" resolved to undefined`);\n    }\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\n\nexports.groupBy = groupBy;\n\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\n\nexports.toArray = toArray;\n\nfunction without(array) {\n  const result = [];\n  if (!array) {\n    return result;\n  }\n  const length = array.length;\n  const contains = toArray(arguments).slice(1);\n  let index = -1;\n\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\n\nexports.without = without;\n\nfunction repeat(char_, n) {\n  var str = '';\n  for (let i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\n\nexports.repeat = repeat;\n\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (let i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\n\nexports.each = each;\n\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n\n  for (let i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n\n  return results;\n}\n\nexports.map = map;\n\nfunction asyncIter(arr, iter, cb) {\n  let i = -1;\n\n  function next() {\n    i++;\n\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncIter = asyncIter;\n\nfunction asyncFor(obj, iter, cb) {\n  const keys = keys_(obj || {});\n  const len = keys.length;\n  let i = -1;\n\n  function next() {\n    i++;\n    const k = keys[i];\n\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncFor = asyncFor;\n\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\n\nexports.indexOf = indexOf;\n\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  const arr = [];\n  for (let k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\n\nexports.keys = keys_;\n\nfunction _entries(obj) {\n  return keys_(obj).map((k) => [k, obj[k]]);\n}\n\nexports._entries = _entries;\n\nfunction _values(obj) {\n  return keys_(obj).map((k) => obj[k]);\n}\n\nexports._values = _values;\n\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(k => {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\n\nexports._assign = exports.extend = extend;\n\nfunction inOperator(key, val) {\n  if (isArray(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"'\n    + key + '\" in unexpected types.');\n}\n\nexports.inOperator = inOperator;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lib.js","'use strict';\n\n// A simple class system, more documentation to come\nconst EventEmitter = require('events');\nconst lib = require('./lib');\n\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    const tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    const res = prop.apply(this, arguments);\n    this.parent = tmp;\n\n    return res;\n  };\n}\n\nfunction extendClass(cls, name, props) {\n  props = props || {};\n\n  lib.keys(props).forEach(k => {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n\n  class subclass extends cls {\n    get typename() {\n      return name;\n    }\n  }\n\n  lib._assign(subclass.prototype, props);\n\n  return subclass;\n}\n\nclass Obj {\n  constructor(...args) {\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nclass EmitterObj extends EventEmitter {\n  constructor(...args) {\n    super();\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nmodule.exports = { Obj, EmitterObj };\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/object.js","'use strict';\n\nvar lib = require('./lib');\nvar arrayFrom = Array.from;\nvar supportsIterators = (\n  typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function'\n);\n\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nclass Frame {\n  constructor(parent, isolateWrites) {\n    this.variables = Object.create(null);\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n\n  set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n\n    if (resolveUp) {\n      if ((frame = this.resolve(parts[0], true))) {\n        frame.set(name, val);\n        return;\n      }\n    }\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      const id = parts[i];\n\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n\n    obj[parts[parts.length - 1]] = val;\n  }\n\n  get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  }\n\n  lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  }\n\n  resolve(name, forWrite) {\n    var p = (forWrite && this.isolateWrites) ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  }\n\n  push(isolateWrites) {\n    return new Frame(this, isolateWrites);\n  }\n\n  pop() {\n    return this.parent;\n  }\n}\n\nfunction makeMacro(argNames, kwargNames, func) {\n  return function macro(...macroArgs) {\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach((val, i) => {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n\n      for (let i = argCount; i < argNames.length; i++) {\n        const arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n\n    return func.apply(this, args);\n  };\n}\n\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\n\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\n\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    const lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\n\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n\n  const lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  this.val = val;\n  this.length = val.length;\n}\n\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\n\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\n\nfunction markSafe(val) {\n  var type = typeof val;\n\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n\n      return ret;\n    };\n  }\n}\n\nfunction suppressValue(val, autoescape) {\n  val = (val !== undefined && val !== null) ? val : '';\n\n  if (autoescape && !(val instanceof SafeString)) {\n    val = lib.escape(val.toString());\n  }\n\n  return val;\n}\n\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new lib.TemplateError(\n      'attempted to output null or undefined value',\n      lineno + 1,\n      colno + 1\n    );\n  }\n  return val;\n}\n\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  if (typeof obj[val] === 'function') {\n    return (...args) => obj[val].apply(obj, args);\n  }\n\n  return obj[val];\n}\n\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n\n  return obj.apply(context, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return (val !== undefined) ?\n    val :\n    context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    return new lib.TemplateError(error, lineno, colno);\n  }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (lib.isArray(arr)) {\n    const len = arr.length;\n\n    lib.asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n\n  if (lib.isArray(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i];\n\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    const keys = lib.keys(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        func(k, arr[k], i, len, done);\n      }\n    }\n  }\n}\n\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\n\nmodule.exports = {\n  Frame: Frame,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError,\n  isArray: lib.isArray,\n  keys: lib.keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: lib.inOperator,\n  fromIterator: fromIterator\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/runtime.js","'use strict';\n\nconst {Obj} = require('./object');\n\nfunction traverseAndCheck(obj, type, results) {\n  if (obj instanceof type) {\n    results.push(obj);\n  }\n\n  if (obj instanceof Node) {\n    obj.findAll(type, results);\n  }\n}\n\nclass Node extends Obj {\n  init(lineno, colno, ...args) {\n    this.lineno = lineno;\n    this.colno = colno;\n\n    this.fields.forEach((field, i) => {\n      // The first two args are line/col numbers, so offset by 2\n      var val = arguments[i + 2];\n\n      // Fields should never be undefined, but null. It makes\n      // testing easier to normalize values.\n      if (val === undefined) {\n        val = null;\n      }\n\n      this[field] = val;\n    });\n  }\n\n  findAll(type, results) {\n    results = results || [];\n\n    if (this instanceof NodeList) {\n      this.children.forEach(child => traverseAndCheck(child, type, results));\n    } else {\n      this.fields.forEach(field => traverseAndCheck(this[field], type, results));\n    }\n\n    return results;\n  }\n\n  iterFields(func) {\n    this.fields.forEach((field) => {\n      func(this[field], field);\n    });\n  }\n}\n\n// Abstract nodes\nclass Value extends Node {\n  get typename() { return 'Value'; }\n  get fields() {\n    return ['value'];\n  }\n}\n\n// Concrete nodes\nclass NodeList extends Node {\n  get typename() { return 'NodeList'; }\n  get fields() { return ['children']; }\n\n  init(lineno, colno, nodes) {\n    super.init(lineno, colno, nodes || []);\n  }\n\n  addChild(node) {\n    this.children.push(node);\n  }\n}\n\nconst Root = NodeList.extend('Root');\nconst Literal = Value.extend('Literal');\nconst Symbol = Value.extend('Symbol');\nconst Group = NodeList.extend('Group');\nconst ArrayNode = NodeList.extend('Array');\nconst Pair = Node.extend('Pair', { fields: ['key', 'value'] });\nconst Dict = NodeList.extend('Dict');\nconst LookupVal = Node.extend('LookupVal', { fields: ['target', 'val'] });\nconst If = Node.extend('If', { fields: ['cond', 'body', 'else_'] });\nconst IfAsync = If.extend('IfAsync');\nconst InlineIf = Node.extend('InlineIf', { fields: ['cond', 'body', 'else_'] });\nconst For = Node.extend('For', { fields: ['arr', 'name', 'body', 'else_'] });\nconst AsyncEach = For.extend('AsyncEach');\nconst AsyncAll = For.extend('AsyncAll');\nconst Macro = Node.extend('Macro', { fields: ['name', 'args', 'body'] });\nconst Caller = Macro.extend('Caller');\nconst Import = Node.extend('Import', { fields: ['template', 'target', 'withContext'] });\n\nclass FromImport extends Node {\n  get typename() { return 'FromImport'; }\n  get fields() { return ['template', 'names', 'withContext']; }\n\n  init(lineno, colno, template, names, withContext) {\n    super.init(lineno, colno, template, names || new NodeList(), withContext);\n  }\n}\n\nconst FunCall = Node.extend('FunCall', { fields: ['name', 'args'] });\nconst Filter = FunCall.extend('Filter');\nconst FilterAsync = Filter.extend('FilterAsync', { fields: ['name', 'args', 'symbol'] });\nconst KeywordArgs = Dict.extend('KeywordArgs');\nconst Block = Node.extend('Block', { fields: ['name', 'body'] });\nconst Super = Node.extend('Super', { fields: ['blockName', 'symbol'] });\nconst TemplateRef = Node.extend('TemplateRef', { fields: ['template'] });\nconst Extends = TemplateRef.extend('Extends');\nconst Include = Node.extend('Include', { fields: ['template', 'ignoreMissing'] });\nconst Set = Node.extend('Set', { fields: ['targets', 'value'] });\nconst Switch = Node.extend('Switch', { fields: ['expr', 'cases', 'default'] });\nconst Case = Node.extend('Case', { fields: ['cond', 'body'] });\nconst Output = NodeList.extend('Output');\nconst Capture = Node.extend('Capture', { fields: ['body'] });\nconst TemplateData = Literal.extend('TemplateData');\nconst UnaryOp = Node.extend('UnaryOp', { fields: ['target'] });\nconst BinOp = Node.extend('BinOp', { fields: ['left', 'right'] });\nconst In = BinOp.extend('In');\nconst Is = BinOp.extend('Is');\nconst Or = BinOp.extend('Or');\nconst And = BinOp.extend('And');\nconst Not = UnaryOp.extend('Not');\nconst Add = BinOp.extend('Add');\nconst Concat = BinOp.extend('Concat');\nconst Sub = BinOp.extend('Sub');\nconst Mul = BinOp.extend('Mul');\nconst Div = BinOp.extend('Div');\nconst FloorDiv = BinOp.extend('FloorDiv');\nconst Mod = BinOp.extend('Mod');\nconst Pow = BinOp.extend('Pow');\nconst Neg = UnaryOp.extend('Neg');\nconst Pos = UnaryOp.extend('Pos');\nconst Compare = Node.extend('Compare', { fields: ['expr', 'ops'] });\nconst CompareOperand = Node.extend('CompareOperand', { fields: ['expr', 'type'] });\nconst CallExtension = Node.extend('CallExtension', {\n  init(ext, prop, args, contentArgs) {\n    this.parent();\n    this.extName = ext.__name || ext;\n    this.prop = prop;\n    this.args = args || new NodeList();\n    this.contentArgs = contentArgs || [];\n    this.autoescape = ext.autoescape;\n  },\n  fields: ['extName', 'prop', 'args', 'contentArgs']\n});\nconst CallExtensionAsync = CallExtension.extend('CallExtensionAsync');\n\n// This is hacky, but this is just a debugging function anyway\nfunction print(str, indent, inline) {\n  var lines = str.split('\\n');\n\n  lines.forEach((line, i) => {\n    if (line && ((inline && i > 0) || !inline)) {\n      process.stdout.write((' ').repeat(indent));\n    }\n    const nl = (i === lines.length - 1) ? '' : '\\n';\n    process.stdout.write(`${line}${nl}`);\n  });\n}\n\n// Print the AST in a nicely formatted tree format for debuggin\nfunction printNodes(node, indent) {\n  indent = indent || 0;\n\n  print(node.typename + ': ', indent);\n\n  if (node instanceof NodeList) {\n    print('\\n');\n    node.children.forEach((n) => {\n      printNodes(n, indent + 2);\n    });\n  } else if (node instanceof CallExtension) {\n    print(`${node.extName}.${node.prop}\\n`);\n\n    if (node.args) {\n      printNodes(node.args, indent + 2);\n    }\n\n    if (node.contentArgs) {\n      node.contentArgs.forEach((n) => {\n        printNodes(n, indent + 2);\n      });\n    }\n  } else {\n    let nodes = [];\n    let props = null;\n\n    node.iterFields((val, fieldName) => {\n      if (val instanceof Node) {\n        nodes.push([fieldName, val]);\n      } else {\n        props = props || {};\n        props[fieldName] = val;\n      }\n    });\n\n    if (props) {\n      print(JSON.stringify(props, null, 2) + '\\n', null, true);\n    } else {\n      print('\\n');\n    }\n\n    nodes.forEach(([fieldName, n]) => {\n      print(`[${fieldName}] =>`, indent + 2);\n      printNodes(n, indent + 4);\n    });\n  }\n}\n\nmodule.exports = {\n  Node: Node,\n  Root: Root,\n  NodeList: NodeList,\n  Value: Value,\n  Literal: Literal,\n  Symbol: Symbol,\n  Group: Group,\n  Array: ArrayNode,\n  Pair: Pair,\n  Dict: Dict,\n  Output: Output,\n  Capture: Capture,\n  TemplateData: TemplateData,\n  If: If,\n  IfAsync: IfAsync,\n  InlineIf: InlineIf,\n  For: For,\n  AsyncEach: AsyncEach,\n  AsyncAll: AsyncAll,\n  Macro: Macro,\n  Caller: Caller,\n  Import: Import,\n  FromImport: FromImport,\n  FunCall: FunCall,\n  Filter: Filter,\n  FilterAsync: FilterAsync,\n  KeywordArgs: KeywordArgs,\n  Block: Block,\n  Super: Super,\n  Extends: Extends,\n  Include: Include,\n  Set: Set,\n  Switch: Switch,\n  Case: Case,\n  LookupVal: LookupVal,\n  BinOp: BinOp,\n  In: In,\n  Is: Is,\n  Or: Or,\n  And: And,\n  Not: Not,\n  Add: Add,\n  Concat: Concat,\n  Sub: Sub,\n  Mul: Mul,\n  Div: Div,\n  FloorDiv: FloorDiv,\n  Mod: Mod,\n  Pow: Pow,\n  Neg: Neg,\n  Pos: Pos,\n  Compare: Compare,\n  CompareOperand: CompareOperand,\n\n  CallExtension: CallExtension,\n  CallExtensionAsync: CallExtensionAsync,\n\n  printNodes: printNodes\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/nodes.js","'use strict';\n\nconst parser = require('./parser');\nconst transformer = require('./transformer');\nconst nodes = require('./nodes');\nconst {TemplateError} = require('./lib');\nconst {Frame} = require('./runtime');\nconst {Obj} = require('./object');\n\n// These are all the same for now, but shouldn't be passed straight\n// through\nconst compareOps = {\n  '==': '==',\n  '===': '===',\n  '!=': '!=',\n  '!==': '!==',\n  '<': '<',\n  '>': '>',\n  '<=': '<=',\n  '>=': '>='\n};\n\nclass Compiler extends Obj {\n  init(templateName, throwOnUndefined) {\n    this.templateName = templateName;\n    this.codebuf = [];\n    this.lastId = 0;\n    this.buffer = null;\n    this.bufferStack = [];\n    this._scopeClosers = '';\n    this.inBlock = false;\n    this.throwOnUndefined = throwOnUndefined;\n  }\n\n  fail(msg, lineno, colno) {\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n\n    throw new TemplateError(msg, lineno, colno);\n  }\n\n  _pushBuffer() {\n    const id = this._tmpid();\n    this.bufferStack.push(this.buffer);\n    this.buffer = id;\n    this._emit(`var ${this.buffer} = \"\";`);\n    return id;\n  }\n\n  _popBuffer() {\n    this.buffer = this.bufferStack.pop();\n  }\n\n  _emit(code) {\n    this.codebuf.push(code);\n  }\n\n  _emitLine(code) {\n    this._emit(code + '\\n');\n  }\n\n  _emitLines(...lines) {\n    lines.forEach((line) => this._emitLine(line));\n  }\n\n  _emitFuncBegin(node, name) {\n    this.buffer = 'output';\n    this._scopeClosers = '';\n    this._emitLine(`function ${name}(env, context, frame, runtime, cb) {`);\n    this._emitLine(`var lineno = ${node.lineno};`);\n    this._emitLine(`var colno = ${node.colno};`);\n    this._emitLine(`var ${this.buffer} = \"\";`);\n    this._emitLine('try {');\n  }\n\n  _emitFuncEnd(noReturn) {\n    if (!noReturn) {\n      this._emitLine('cb(null, ' + this.buffer + ');');\n    }\n\n    this._closeScopeLevels();\n    this._emitLine('} catch (e) {');\n    this._emitLine('  cb(runtime.handleError(e, lineno, colno));');\n    this._emitLine('}');\n    this._emitLine('}');\n    this.buffer = null;\n  }\n\n  _addScopeLevel() {\n    this._scopeClosers += '})';\n  }\n\n  _closeScopeLevels() {\n    this._emitLine(this._scopeClosers + ';');\n    this._scopeClosers = '';\n  }\n\n  _withScopedSyntax(func) {\n    var _scopeClosers = this._scopeClosers;\n    this._scopeClosers = '';\n\n    func.call(this);\n\n    this._closeScopeLevels();\n    this._scopeClosers = _scopeClosers;\n  }\n\n  _makeCallback(res) {\n    var err = this._tmpid();\n\n    return 'function(' + err + (res ? ',' + res : '') + ') {\\n' +\n      'if(' + err + ') { cb(' + err + '); return; }';\n  }\n\n  _tmpid() {\n    this.lastId++;\n    return 't_' + this.lastId;\n  }\n\n  _templateName() {\n    return this.templateName == null ? 'undefined' : JSON.stringify(this.templateName);\n  }\n\n  _compileChildren(node, frame) {\n    node.children.forEach((child) => {\n      this.compile(child, frame);\n    });\n  }\n\n  _compileAggregate(node, frame, startChar, endChar) {\n    if (startChar) {\n      this._emit(startChar);\n    }\n\n    node.children.forEach((child, i) => {\n      if (i > 0) {\n        this._emit(',');\n      }\n\n      this.compile(child, frame);\n    });\n\n    if (endChar) {\n      this._emit(endChar);\n    }\n  }\n\n  _compileExpression(node, frame) {\n    // TODO: I'm not really sure if this type check is worth it or\n    // not.\n    this.assertType(\n      node,\n      nodes.Literal,\n      nodes.Symbol,\n      nodes.Group,\n      nodes.Array,\n      nodes.Dict,\n      nodes.FunCall,\n      nodes.Caller,\n      nodes.Filter,\n      nodes.LookupVal,\n      nodes.Compare,\n      nodes.InlineIf,\n      nodes.In,\n      nodes.Is,\n      nodes.And,\n      nodes.Or,\n      nodes.Not,\n      nodes.Add,\n      nodes.Concat,\n      nodes.Sub,\n      nodes.Mul,\n      nodes.Div,\n      nodes.FloorDiv,\n      nodes.Mod,\n      nodes.Pow,\n      nodes.Neg,\n      nodes.Pos,\n      nodes.Compare,\n      nodes.NodeList\n    );\n    this.compile(node, frame);\n  }\n\n  assertType(node, ...types) {\n    if (!types.some(t => node instanceof t)) {\n      this.fail(`assertType: invalid type: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  compileCallExtension(node, frame, async) {\n    var args = node.args;\n    var contentArgs = node.contentArgs;\n    var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n\n    if (!async) {\n      this._emit(`${this.buffer} += runtime.suppressValue(`);\n    }\n\n    this._emit(`env.getExtension(\"${node.extName}\")[\"${node.prop}\"](`);\n    this._emit('context');\n\n    if (args || contentArgs) {\n      this._emit(',');\n    }\n\n    if (args) {\n      if (!(args instanceof nodes.NodeList)) {\n        this.fail('compileCallExtension: arguments must be a NodeList, ' +\n          'use `parser.parseSignature`');\n      }\n\n      args.children.forEach((arg, i) => {\n        // Tag arguments are passed normally to the call. Note\n        // that keyword arguments are turned into a single js\n        // object as the last argument, if they exist.\n        this._compileExpression(arg, frame);\n\n        if (i !== args.children.length - 1 || contentArgs.length) {\n          this._emit(',');\n        }\n      });\n    }\n\n    if (contentArgs.length) {\n      contentArgs.forEach((arg, i) => {\n        if (i > 0) {\n          this._emit(',');\n        }\n\n        if (arg) {\n          this._emitLine('function(cb) {');\n          this._emitLine('if(!cb) { cb = function(err) { if(err) { throw err; }}}');\n          const id = this._pushBuffer();\n\n          this._withScopedSyntax(() => {\n            this.compile(arg, frame);\n            this._emitLine(`cb(null, ${id});`);\n          });\n\n          this._popBuffer();\n          this._emitLine(`return ${id};`);\n          this._emitLine('}');\n        } else {\n          this._emit('null');\n        }\n      });\n    }\n\n    if (async) {\n      const res = this._tmpid();\n      this._emitLine(', ' + this._makeCallback(res));\n      this._emitLine(\n        `${this.buffer} += runtime.suppressValue(${res}, ${autoescape} && env.opts.autoescape);`);\n      this._addScopeLevel();\n    } else {\n      this._emit(')');\n      this._emit(`, ${autoescape} && env.opts.autoescape);\\n`);\n    }\n  }\n\n  compileCallExtensionAsync(node, frame) {\n    this.compileCallExtension(node, frame, true);\n  }\n\n  compileNodeList(node, frame) {\n    this._compileChildren(node, frame);\n  }\n\n  compileLiteral(node) {\n    if (typeof node.value === 'string') {\n      let val = node.value.replace(/\\\\/g, '\\\\\\\\');\n      val = val.replace(/\"/g, '\\\\\"');\n      val = val.replace(/\\n/g, '\\\\n');\n      val = val.replace(/\\r/g, '\\\\r');\n      val = val.replace(/\\t/g, '\\\\t');\n      val = val.replace(/\\u2028/g, '\\\\u2028');\n      this._emit(`\"${val}\"`);\n    } else if (node.value === null) {\n      this._emit('null');\n    } else {\n      this._emit(node.value.toString());\n    }\n  }\n\n  compileSymbol(node, frame) {\n    var name = node.value;\n    var v = frame.lookup(name);\n\n    if (v) {\n      this._emit(v);\n    } else {\n      this._emit('runtime.contextOrFrameLookup(' +\n        'context, frame, \"' + name + '\")');\n    }\n  }\n\n  compileGroup(node, frame) {\n    this._compileAggregate(node, frame, '(', ')');\n  }\n\n  compileArray(node, frame) {\n    this._compileAggregate(node, frame, '[', ']');\n  }\n\n  compileDict(node, frame) {\n    this._compileAggregate(node, frame, '{', '}');\n  }\n\n  compilePair(node, frame) {\n    var key = node.key;\n    var val = node.value;\n\n    if (key instanceof nodes.Symbol) {\n      key = new nodes.Literal(key.lineno, key.colno, key.value);\n    } else if (!(key instanceof nodes.Literal &&\n      typeof key.value === 'string')) {\n      this.fail('compilePair: Dict keys must be strings or names',\n        key.lineno,\n        key.colno);\n    }\n\n    this.compile(key, frame);\n    this._emit(': ');\n    this._compileExpression(val, frame);\n  }\n\n  compileInlineIf(node, frame) {\n    this._emit('(');\n    this.compile(node.cond, frame);\n    this._emit('?');\n    this.compile(node.body, frame);\n    this._emit(':');\n    if (node.else_ !== null) {\n      this.compile(node.else_, frame);\n    } else {\n      this._emit('\"\"');\n    }\n    this._emit(')');\n  }\n\n  compileIn(node, frame) {\n    this._emit('runtime.inOperator(');\n    this.compile(node.left, frame);\n    this._emit(',');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileIs(node, frame) {\n    // first, we need to try to get the name of the test function, if it's a\n    // callable (i.e., has args) and not a symbol.\n    var right = node.right.name\n      ? node.right.name.value\n      // otherwise go with the symbol value\n      : node.right.value;\n    this._emit('env.getTest(\"' + right + '\").call(context, ');\n    this.compile(node.left, frame);\n    // compile the arguments for the callable if they exist\n    if (node.right.args) {\n      this._emit(',');\n      this.compile(node.right.args, frame);\n    }\n    this._emit(') === true');\n  }\n\n  _binOpEmitter(node, frame, str) {\n    this.compile(node.left, frame);\n    this._emit(str);\n    this.compile(node.right, frame);\n  }\n\n  // ensure concatenation instead of addition\n  // by adding empty string in between\n  compileOr(node, frame) {\n    return this._binOpEmitter(node, frame, ' || ');\n  }\n\n  compileAnd(node, frame) {\n    return this._binOpEmitter(node, frame, ' && ');\n  }\n\n  compileAdd(node, frame) {\n    return this._binOpEmitter(node, frame, ' + ');\n  }\n\n  compileConcat(node, frame) {\n    return this._binOpEmitter(node, frame, ' + \"\" + ');\n  }\n\n  compileSub(node, frame) {\n    return this._binOpEmitter(node, frame, ' - ');\n  }\n\n  compileMul(node, frame) {\n    return this._binOpEmitter(node, frame, ' * ');\n  }\n\n  compileDiv(node, frame) {\n    return this._binOpEmitter(node, frame, ' / ');\n  }\n\n  compileMod(node, frame) {\n    return this._binOpEmitter(node, frame, ' % ');\n  }\n\n  compileNot(node, frame) {\n    this._emit('!');\n    this.compile(node.target, frame);\n  }\n\n  compileFloorDiv(node, frame) {\n    this._emit('Math.floor(');\n    this.compile(node.left, frame);\n    this._emit(' / ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compilePow(node, frame) {\n    this._emit('Math.pow(');\n    this.compile(node.left, frame);\n    this._emit(', ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileNeg(node, frame) {\n    this._emit('-');\n    this.compile(node.target, frame);\n  }\n\n  compilePos(node, frame) {\n    this._emit('+');\n    this.compile(node.target, frame);\n  }\n\n  compileCompare(node, frame) {\n    this.compile(node.expr, frame);\n\n    node.ops.forEach((op) => {\n      this._emit(` ${compareOps[op.type]} `);\n      this.compile(op.expr, frame);\n    });\n  }\n\n  compileLookupVal(node, frame) {\n    this._emit('runtime.memberLookup((');\n    this._compileExpression(node.target, frame);\n    this._emit('),');\n    this._compileExpression(node.val, frame);\n    this._emit(')');\n  }\n\n  _getNodeName(node) {\n    switch (node.typename) {\n      case 'Symbol':\n        return node.value;\n      case 'FunCall':\n        return 'the return value of (' + this._getNodeName(node.name) + ')';\n      case 'LookupVal':\n        return this._getNodeName(node.target) + '[\"' +\n          this._getNodeName(node.val) + '\"]';\n      case 'Literal':\n        return node.value.toString();\n      default:\n        return '--expression--';\n    }\n  }\n\n  compileFunCall(node, frame) {\n    // Keep track of line/col info at runtime by settings\n    // variables within an expression. An expression in javascript\n    // like (x, y, z) returns the last value, and x and y can be\n    // anything\n    this._emit('(lineno = ' + node.lineno +\n      ', colno = ' + node.colno + ', ');\n\n    this._emit('runtime.callWrap(');\n    // Compile it as normal.\n    this._compileExpression(node.name, frame);\n\n    // Output the name of what we're calling so we can get friendly errors\n    // if the lookup fails.\n    this._emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", context, ');\n\n    this._compileAggregate(node.args, frame, '[', '])');\n\n    this._emit(')');\n  }\n\n  compileFilter(node, frame) {\n    var name = node.name;\n    this.assertType(name, nodes.Symbol);\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emit(')');\n  }\n\n  compileFilterAsync(node, frame) {\n    var name = node.name;\n    var symbol = node.symbol.value;\n\n    this.assertType(name, nodes.Symbol);\n\n    frame.set(symbol, symbol);\n\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emitLine(', ' + this._makeCallback(symbol));\n\n    this._addScopeLevel();\n  }\n\n  compileKeywordArgs(node, frame) {\n    this._emit('runtime.makeKeywordArgs(');\n    this.compileDict(node, frame);\n    this._emit(')');\n  }\n\n  compileSet(node, frame) {\n    var ids = [];\n\n    // Lookup the variable names for each identifier and create\n    // new ones if necessary\n    node.targets.forEach((target) => {\n      var name = target.value;\n      var id = frame.lookup(name);\n\n      if (id === null || id === undefined) {\n        id = this._tmpid();\n\n        // Note: This relies on js allowing scope across\n        // blocks, in case this is created inside an `if`\n        this._emitLine('var ' + id + ';');\n      }\n\n      ids.push(id);\n    });\n\n    if (node.value) {\n      this._emit(ids.join(' = ') + ' = ');\n      this._compileExpression(node.value, frame);\n      this._emitLine(';');\n    } else {\n      this._emit(ids.join(' = ') + ' = ');\n      this.compile(node.body, frame);\n      this._emitLine(';');\n    }\n\n    node.targets.forEach((target, i) => {\n      var id = ids[i];\n      var name = target.value;\n\n      // We are running this for every var, but it's very\n      // uncommon to assign to multiple vars anyway\n      this._emitLine(`frame.set(\"${name}\", ${id}, true);`);\n\n      this._emitLine('if(frame.topLevel) {');\n      this._emitLine(`context.setVariable(\"${name}\", ${id});`);\n      this._emitLine('}');\n\n      if (name.charAt(0) !== '_') {\n        this._emitLine('if(frame.topLevel) {');\n        this._emitLine(`context.addExport(\"${name}\", ${id});`);\n        this._emitLine('}');\n      }\n    });\n  }\n\n  compileSwitch(node, frame) {\n    this._emit('switch (');\n    this.compile(node.expr, frame);\n    this._emit(') {');\n    node.cases.forEach((c, i) => {\n      this._emit('case ');\n      this.compile(c.cond, frame);\n      this._emit(': ');\n      this.compile(c.body, frame);\n      // preserve fall-throughs\n      if (c.body.children.length) {\n        this._emitLine('break;');\n      }\n    });\n    if (node.default) {\n      this._emit('default:');\n      this.compile(node.default, frame);\n    }\n    this._emit('}');\n  }\n\n  compileIf(node, frame, async) {\n    this._emit('if(');\n    this._compileExpression(node.cond, frame);\n    this._emitLine(') {');\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n\n      if (async) {\n        this._emit('cb()');\n      }\n    });\n\n    if (node.else_) {\n      this._emitLine('}\\nelse {');\n\n      this._withScopedSyntax(() => {\n        this.compile(node.else_, frame);\n\n        if (async) {\n          this._emit('cb()');\n        }\n      });\n    } else if (async) {\n      this._emitLine('}\\nelse {');\n      this._emit('cb()');\n    }\n\n    this._emitLine('}');\n  }\n\n  compileIfAsync(node, frame) {\n    this._emit('(function(cb) {');\n    this.compileIf(node, frame, true);\n    this._emit('})(' + this._makeCallback());\n    this._addScopeLevel();\n  }\n\n  _emitLoopBindings(node, arr, i, len) {\n    const bindings = [\n      {name: 'index', val: `${i} + 1`},\n      {name: 'index0', val: i},\n      {name: 'revindex', val: `${len} - ${i}`},\n      {name: 'revindex0', val: `${len} - ${i} - 1`},\n      {name: 'first', val: `${i} === 0`},\n      {name: 'last', val: `${i} === ${len} - 1`},\n      {name: 'length', val: len},\n    ];\n\n    bindings.forEach((b) => {\n      this._emitLine(`frame.set(\"loop.${b.name}\", ${b.val});`);\n    });\n  }\n\n  compileFor(node, frame) {\n    // Some of this code is ugly, but it keeps the generated code\n    // as fast as possible. ForAsync also shares some of this, but\n    // not much.\n\n    const i = this._tmpid();\n    const len = this._tmpid();\n    const arr = this._tmpid();\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit(`var ${arr} = `);\n    this._compileExpression(node.arr, frame);\n    this._emitLine(';');\n\n    this._emit(`if(${arr}) {`);\n    this._emitLine(arr + ' = runtime.fromIterator(' + arr + ');');\n\n    // If multiple names are passed, we need to bind them\n    // appropriately\n    if (node.name instanceof nodes.Array) {\n      this._emitLine(`var ${i};`);\n\n      // The object could be an arroy or object. Note that the\n      // body of the loop is duplicated for each condition, but\n      // we are optimizing for speed over size.\n      this._emitLine(`if(runtime.isArray(${arr})) {`);\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n\n      // Bind each declared var\n      node.name.children.forEach((child, u) => {\n        var tid = this._tmpid();\n        this._emitLine(`var ${tid} = ${arr}[${i}][${u}];`);\n        this._emitLine(`frame.set(\"${child}\", ${arr}[${i}][${u}]);`);\n        frame.set(node.name.children[u].value, tid);\n      });\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('} else {');\n      // Iterate over the key/values of an object\n      const [key, val] = node.name.children;\n      const k = this._tmpid();\n      const v = this._tmpid();\n      frame.set(key.value, k);\n      frame.set(val.value, v);\n\n      this._emitLine(`${i} = -1;`);\n      this._emitLine(`var ${len} = runtime.keys(${arr}).length;`);\n      this._emitLine(`for(var ${k} in ${arr}) {`);\n      this._emitLine(`${i}++;`);\n      this._emitLine(`var ${v} = ${arr}[${k}];`);\n      this._emitLine(`frame.set(\"${key.value}\", ${k});`);\n      this._emitLine(`frame.set(\"${val.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('}');\n    } else {\n      // Generate a typical array iteration\n      const v = this._tmpid();\n      frame.set(node.name.value, v);\n\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(var ${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n      this._emitLine(`var ${v} = ${arr}[${i}];`);\n      this._emitLine(`frame.set(\"${node.name.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n\n      this._emitLine('}');\n    }\n\n    this._emitLine('}');\n    if (node.else_) {\n      this._emitLine('if (!' + len + ') {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  _compileAsyncLoop(node, frame, parallel) {\n    // This shares some code with the For tag, but not enough to\n    // worry about. This iterates across an object asynchronously,\n    // but not in parallel.\n\n    var i = this._tmpid();\n    var len = this._tmpid();\n    var arr = this._tmpid();\n    var asyncMethod = parallel ? 'asyncAll' : 'asyncEach';\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit('var ' + arr + ' = runtime.fromIterator(');\n    this._compileExpression(node.arr, frame);\n    this._emitLine(');');\n\n    if (node.name instanceof nodes.Array) {\n      const arrayLen = node.name.children.length;\n      this._emit(`runtime.${asyncMethod}(${arr}, ${arrayLen}, function(`);\n\n      node.name.children.forEach((name) => {\n        this._emit(`${name.value},`);\n      });\n\n      this._emit(i + ',' + len + ',next) {');\n\n      node.name.children.forEach((name) => {\n        const id = name.value;\n        frame.set(id, id);\n        this._emitLine(`frame.set(\"${id}\", ${id});`);\n      });\n    } else {\n      const id = node.name.value;\n      this._emitLine(`runtime.${asyncMethod}(${arr}, 1, function(${id}, ${i}, ${len},next) {`);\n      this._emitLine('frame.set(\"' + id + '\", ' + id + ');');\n      frame.set(id, id);\n    }\n\n    this._emitLoopBindings(node, arr, i, len);\n\n    this._withScopedSyntax(() => {\n      let buf;\n      if (parallel) {\n        buf = this._pushBuffer();\n      }\n\n      this.compile(node.body, frame);\n      this._emitLine('next(' + i + (buf ? ',' + buf : '') + ');');\n\n      if (parallel) {\n        this._popBuffer();\n      }\n    });\n\n    const output = this._tmpid();\n    this._emitLine('}, ' + this._makeCallback(output));\n    this._addScopeLevel();\n\n    if (parallel) {\n      this._emitLine(this.buffer + ' += ' + output + ';');\n    }\n\n    if (node.else_) {\n      this._emitLine('if (!' + arr + '.length) {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  compileAsyncEach(node, frame) {\n    this._compileAsyncLoop(node, frame);\n  }\n\n  compileAsyncAll(node, frame) {\n    this._compileAsyncLoop(node, frame, true);\n  }\n\n  _compileMacro(node, frame) {\n    var args = [];\n    var kwargs = null;\n    var funcId = 'macro_' + this._tmpid();\n    var keepFrame = (frame !== undefined);\n\n    // Type check the definition of the args\n    node.args.children.forEach((arg, i) => {\n      if (i === node.args.children.length - 1 && arg instanceof nodes.Dict) {\n        kwargs = arg;\n      } else {\n        this.assertType(arg, nodes.Symbol);\n        args.push(arg);\n      }\n    });\n\n    const realNames = [...args.map((n) => `l_${n.value}`), 'kwargs'];\n\n    // Quoted argument names\n    const argNames = args.map((n) => `\"${n.value}\"`);\n    const kwargNames = ((kwargs && kwargs.children) || []).map((n) => `\"${n.key.value}\"`);\n\n    // We pass a function to makeMacro which destructures the\n    // arguments so support setting positional args with keywords\n    // args and passing keyword args as positional args\n    // (essentially default values). See runtime.js.\n    let currFrame;\n    if (keepFrame) {\n      currFrame = frame.push(true);\n    } else {\n      currFrame = new Frame();\n    }\n    this._emitLines(\n      `var ${funcId} = runtime.makeMacro(`,\n      `[${argNames.join(', ')}], `,\n      `[${kwargNames.join(', ')}], `,\n      `function (${realNames.join(', ')}) {`,\n      'var callerFrame = frame;',\n      'frame = ' + ((keepFrame) ? 'frame.push(true);' : 'new runtime.Frame();'),\n      'kwargs = kwargs || {};',\n      'if (Object.prototype.hasOwnProperty.call(kwargs, \"caller\")) {',\n      'frame.set(\"caller\", kwargs.caller); }');\n\n    // Expose the arguments to the template. Don't need to use\n    // random names because the function\n    // will create a new run-time scope for us\n    args.forEach((arg) => {\n      this._emitLine(`frame.set(\"${arg.value}\", l_${arg.value});`);\n      currFrame.set(arg.value, `l_${arg.value}`);\n    });\n\n    // Expose the keyword arguments\n    if (kwargs) {\n      kwargs.children.forEach((pair) => {\n        const name = pair.key.value;\n        this._emit(`frame.set(\"${name}\", `);\n        this._emit(`Object.prototype.hasOwnProperty.call(kwargs, \"${name}\")`);\n        this._emit(` ? kwargs[\"${name}\"] : `);\n        this._compileExpression(pair.value, currFrame);\n        this._emit(');');\n      });\n    }\n\n    const bufferId = this._pushBuffer();\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, currFrame);\n    });\n\n    this._emitLine('frame = ' + ((keepFrame) ? 'frame.pop();' : 'callerFrame;'));\n    this._emitLine(`return new runtime.SafeString(${bufferId});`);\n    this._emitLine('});');\n    this._popBuffer();\n\n    return funcId;\n  }\n\n  compileMacro(node, frame) {\n    var funcId = this._compileMacro(node);\n\n    // Expose the macro to the templates\n    var name = node.name.value;\n    frame.set(name, funcId);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${name}\", ${funcId});`);\n    } else {\n      if (node.name.value.charAt(0) !== '_') {\n        this._emitLine(`context.addExport(\"${name}\");`);\n      }\n      this._emitLine(`context.setVariable(\"${name}\", ${funcId});`);\n    }\n  }\n\n  compileCaller(node, frame) {\n    // basically an anonymous \"macro expression\"\n    this._emit('(function (){');\n    const funcId = this._compileMacro(node, frame);\n    this._emit(`return ${funcId};})()`);\n  }\n\n  _compileGetTemplate(node, frame, eagerCompile, ignoreMissing) {\n    const parentTemplateId = this._tmpid();\n    const parentName = this._templateName();\n    const cb = this._makeCallback(parentTemplateId);\n    const eagerCompileArg = (eagerCompile) ? 'true' : 'false';\n    const ignoreMissingArg = (ignoreMissing) ? 'true' : 'false';\n    this._emit('env.getTemplate(');\n    this._compileExpression(node.template, frame);\n    this._emitLine(`, ${eagerCompileArg}, ${parentName}, ${ignoreMissingArg}, ${cb}`);\n    return parentTemplateId;\n  }\n\n  compileImport(node, frame) {\n    const target = node.target.value;\n    const id = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(id + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(id));\n    this._addScopeLevel();\n\n    frame.set(target, id);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${target}\", ${id});`);\n    } else {\n      this._emitLine(`context.setVariable(\"${target}\", ${id});`);\n    }\n  }\n\n  compileFromImport(node, frame) {\n    const importedId = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(importedId + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(importedId));\n    this._addScopeLevel();\n\n    node.names.children.forEach((nameNode) => {\n      var name;\n      var alias;\n      var id = this._tmpid();\n\n      if (nameNode instanceof nodes.Pair) {\n        name = nameNode.key.value;\n        alias = nameNode.value.value;\n      } else {\n        name = nameNode.value;\n        alias = name;\n      }\n\n      this._emitLine(`if(Object.prototype.hasOwnProperty.call(${importedId}, \"${name}\")) {`);\n      this._emitLine(`var ${id} = ${importedId}.${name};`);\n      this._emitLine('} else {');\n      this._emitLine(`cb(new Error(\"cannot import '${name}'\")); return;`);\n      this._emitLine('}');\n\n      frame.set(alias, id);\n\n      if (frame.parent) {\n        this._emitLine(`frame.set(\"${alias}\", ${id});`);\n      } else {\n        this._emitLine(`context.setVariable(\"${alias}\", ${id});`);\n      }\n    });\n  }\n\n  compileBlock(node) {\n    var id = this._tmpid();\n\n    // If we are executing outside a block (creating a top-level\n    // block), we really don't want to execute its code because it\n    // will execute twice: once when the child template runs and\n    // again when the parent template runs. Note that blocks\n    // within blocks will *always* execute immediately *and*\n    // wherever else they are invoked (like used in a parent\n    // template). This may have behavioral differences from jinja\n    // because blocks can have side effects, but it seems like a\n    // waste of performance to always execute huge top-level\n    // blocks twice\n    if (!this.inBlock) {\n      this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(\"\"); } : ');\n    }\n    this._emit(`context.getBlock(\"${node.name.value}\")`);\n    if (!this.inBlock) {\n      this._emit(')');\n    }\n    this._emitLine('(env, context, frame, runtime, ' + this._makeCallback(id));\n    this._emitLine(`${this.buffer} += ${id};`);\n    this._addScopeLevel();\n  }\n\n  compileSuper(node, frame) {\n    var name = node.blockName.value;\n    var id = node.symbol.value;\n\n    const cb = this._makeCallback(id);\n    this._emitLine(`context.getSuper(env, \"${name}\", b_${name}, frame, runtime, ${cb}`);\n    this._emitLine(`${id} = runtime.markSafe(${id});`);\n    this._addScopeLevel();\n    frame.set(id, id);\n  }\n\n  compileExtends(node, frame) {\n    var k = this._tmpid();\n\n    const parentTemplateId = this._compileGetTemplate(node, frame, true, false);\n\n    // extends is a dynamic tag and can occur within a block like\n    // `if`, so if this happens we need to capture the parent\n    // template in the top-level scope\n    this._emitLine(`parentTemplate = ${parentTemplateId}`);\n\n    this._emitLine(`for(var ${k} in parentTemplate.blocks) {`);\n    this._emitLine(`context.addBlock(${k}, parentTemplate.blocks[${k}]);`);\n    this._emitLine('}');\n\n    this._addScopeLevel();\n  }\n\n  compileInclude(node, frame) {\n    this._emitLine('var tasks = [];');\n    this._emitLine('tasks.push(');\n    this._emitLine('function(callback) {');\n    const id = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n    this._emitLine(`callback(null,${id});});`);\n    this._emitLine('});');\n\n    const id2 = this._tmpid();\n    this._emitLine('tasks.push(');\n    this._emitLine('function(template, callback){');\n    this._emitLine('template.render(context.getVariables(), frame, ' + this._makeCallback(id2));\n    this._emitLine('callback(null,' + id2 + ');});');\n    this._emitLine('});');\n\n    this._emitLine('tasks.push(');\n    this._emitLine('function(result, callback){');\n    this._emitLine(`${this.buffer} += result;`);\n    this._emitLine('callback(null);');\n    this._emitLine('});');\n    this._emitLine('env.waterfall(tasks, function(){');\n    this._addScopeLevel();\n  }\n\n  compileTemplateData(node, frame) {\n    this.compileLiteral(node, frame);\n  }\n\n  compileCapture(node, frame) {\n    // we need to temporarily override the current buffer id as 'output'\n    // so the set block writes to the capture output instead of the buffer\n    var buffer = this.buffer;\n    this.buffer = 'output';\n    this._emitLine('(function() {');\n    this._emitLine('var output = \"\";');\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n    });\n    this._emitLine('return output;');\n    this._emitLine('})()');\n    // and of course, revert back to the old buffer id\n    this.buffer = buffer;\n  }\n\n  compileOutput(node, frame) {\n    const children = node.children;\n    children.forEach(child => {\n      // TemplateData is a special case because it is never\n      // autoescaped, so simply output it for optimization\n      if (child instanceof nodes.TemplateData) {\n        if (child.value) {\n          this._emit(`${this.buffer} += `);\n          this.compileLiteral(child, frame);\n          this._emitLine(';');\n        }\n      } else {\n        this._emit(`${this.buffer} += runtime.suppressValue(`);\n        if (this.throwOnUndefined) {\n          this._emit('runtime.ensureDefined(');\n        }\n        this.compile(child, frame);\n        if (this.throwOnUndefined) {\n          this._emit(`,${node.lineno},${node.colno})`);\n        }\n        this._emit(', env.opts.autoescape);\\n');\n      }\n    });\n  }\n\n  compileRoot(node, frame) {\n    if (frame) {\n      this.fail('compileRoot: root node can\\'t have frame');\n    }\n\n    frame = new Frame();\n\n    this._emitFuncBegin(node, 'root');\n    this._emitLine('var parentTemplate = null;');\n    this._compileChildren(node, frame);\n    this._emitLine('if(parentTemplate) {');\n    this._emitLine('parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);');\n    this._emitLine('} else {');\n    this._emitLine(`cb(null, ${this.buffer});`);\n    this._emitLine('}');\n    this._emitFuncEnd(true);\n\n    this.inBlock = true;\n\n    const blockNames = [];\n\n    const blocks = node.findAll(nodes.Block);\n\n    blocks.forEach((block, i) => {\n      const name = block.name.value;\n\n      if (blockNames.indexOf(name) !== -1) {\n        throw new Error(`Block \"${name}\" defined more than once.`);\n      }\n      blockNames.push(name);\n\n      this._emitFuncBegin(block, `b_${name}`);\n\n      const tmpFrame = new Frame();\n      this._emitLine('var frame = frame.push(true);');\n      this.compile(block.body, tmpFrame);\n      this._emitFuncEnd();\n    });\n\n    this._emitLine('return {');\n\n    blocks.forEach((block, i) => {\n      const blockName = `b_${block.name.value}`;\n      this._emitLine(`${blockName}: ${blockName},`);\n    });\n\n    this._emitLine('root: root\\n};');\n  }\n\n  compile(node, frame) {\n    var _compile = this['compile' + node.typename];\n    if (_compile) {\n      _compile.call(this, node, frame);\n    } else {\n      this.fail(`compile: Cannot compile node: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  getCode() {\n    return this.codebuf.join('');\n  }\n}\n\nmodule.exports = {\n  compile: function compile(src, asyncFilters, extensions, name, opts = {}) {\n    const c = new Compiler(name, opts.throwOnUndefined);\n\n    // Run the extension preprocessors against the source.\n    const preprocessors = (extensions || []).map(ext => ext.preprocess).filter(f => !!f);\n\n    const processedSrc = preprocessors.reduce((s, processor) => processor(s), src);\n\n    c.compile(transformer.transform(\n      parser.parse(processedSrc, extensions, opts),\n      asyncFilters,\n      name\n    ));\n    return c.getCode();\n  },\n\n  Compiler: Compiler\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/compiler.js","'use strict';\n\nconst path = require('path');\nconst {EmitterObj} = require('./object');\n\nmodule.exports = class Loader extends EmitterObj {\n  resolve(from, to) {\n    return path.resolve(path.dirname(from), to);\n  }\n\n  isRelative(filename) {\n    return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/loader.js","'use strict';\n\nconst asap = require('asap');\nconst waterfall = require('a-sync-waterfall');\nconst lib = require('./lib');\nconst compiler = require('./compiler');\nconst filters = require('./filters');\nconst {FileSystemLoader, WebLoader, PrecompiledLoader} = require('./loaders');\nconst tests = require('./tests');\nconst globals = require('./globals');\nconst {Obj, EmitterObj} = require('./object');\nconst globalRuntime = require('./runtime');\nconst {handleError, Frame} = globalRuntime;\nconst expressApp = require('./express-app');\n\n// If the user is using the async API, *always* call it\n// asynchronously even if the template was synchronous.\nfunction callbackAsap(cb, err, res) {\n  asap(() => {\n    cb(err, res);\n  });\n}\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nconst noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\n\nclass Environment extends EmitterObj {\n  init(loaders, opts) {\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n\n    this.loaders = [];\n\n    if (!loaders) {\n      // The filesystem loader is only available server-side\n      if (FileSystemLoader) {\n        this.loaders = [new FileSystemLoader('views')];\n      } else if (WebLoader) {\n        this.loaders = [new WebLoader('/views')];\n      }\n    } else {\n      this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n    }\n\n    // It's easy to use precompiled templates: just include them\n    // before you configure nunjucks and this will automatically\n    // pick it up and use it\n    if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n      this.loaders.unshift(\n        new PrecompiledLoader(window.nunjucksPrecompiled)\n      );\n    }\n\n    this._initLoaders();\n\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n\n    lib._entries(filters).forEach(([name, filter]) => this.addFilter(name, filter));\n    lib._entries(tests).forEach(([name, test]) => this.addTest(name, test));\n  }\n\n  _initLoaders() {\n    this.loaders.forEach((loader) => {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', (name, fullname) => {\n          loader.cache[name] = null;\n          this.emit('update', name, fullname, loader);\n        });\n        loader.on('load', (name, source) => {\n          this.emit('load', name, source, loader);\n        });\n      }\n    });\n  }\n\n  invalidateCache() {\n    this.loaders.forEach((loader) => {\n      loader.cache = {};\n    });\n  }\n\n  addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  }\n\n  removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n\n    this.extensionsList = lib.without(this.extensionsList, extension);\n    delete this.extensions[name];\n  }\n\n  getExtension(name) {\n    return this.extensions[name];\n  }\n\n  hasExtension(name) {\n    return !!this.extensions[name];\n  }\n\n  addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  }\n\n  getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  }\n\n  addFilter(name, func, async) {\n    var wrapped = func;\n\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  }\n\n  getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  }\n\n  addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  }\n\n  getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  }\n\n  resolveTemplate(loader, parentName, filename) {\n    var isRelative = (loader.isRelative && parentName) ? loader.isRelative(filename) : false;\n    return (isRelative && loader.resolve) ? loader.resolve(parentName, filename) : filename;\n  }\n\n  getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n\n    if (lib.isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n\n    if (lib.isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (let i = 0; i < this.loaders.length; i++) {\n        const loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    let syncResult;\n\n    const createTemplate = (err, info) => {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      let newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, this, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, this, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n\n    lib.asyncIter(this.loaders, (loader, i, next, done) => {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n\n    return syncResult;\n  }\n\n  express(app) {\n    return expressApp(this, app);\n  }\n\n  render(name, ctx, cb) {\n    if (lib.isFunction(ctx)) {\n      cb = ctx;\n      ctx = null;\n    }\n\n    // We support a synchronous API to make it easier to migrate\n    // existing code to async. This works because if you don't do\n    // anything async work, the whole thing is actually run\n    // synchronously.\n    let syncResult = null;\n\n    this.getTemplate(name, (err, tmpl) => {\n      if (err && cb) {\n        callbackAsap(cb, err);\n      } else if (err) {\n        throw err;\n      } else {\n        syncResult = tmpl.render(ctx, cb);\n      }\n    });\n\n    return syncResult;\n  }\n\n  renderString(src, ctx, opts, cb) {\n    if (lib.isFunction(opts)) {\n      cb = opts;\n      opts = {};\n    }\n    opts = opts || {};\n\n    const tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx, cb);\n  }\n\n  waterfall(tasks, callback, forceAsync) {\n    return waterfall(tasks, callback, forceAsync);\n  }\n}\n\nclass Context extends Obj {\n  init(ctx, blocks, env) {\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = lib.extend({}, ctx);\n\n    this.blocks = {};\n    this.exported = [];\n\n    lib.keys(blocks).forEach(name => {\n      this.addBlock(name, blocks[name]);\n    });\n  }\n\n  lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  }\n\n  setVariable(name, val) {\n    this.ctx[name] = val;\n  }\n\n  getVariables() {\n    return this.ctx;\n  }\n\n  addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  }\n\n  getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n\n    return this.blocks[name][0];\n  }\n\n  getSuper(env, name, block, frame, runtime, cb) {\n    var idx = lib.indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n\n    blk(env, context, frame, runtime, cb);\n  }\n\n  addExport(name) {\n    this.exported.push(name);\n  }\n\n  getExported() {\n    var exported = {};\n    this.exported.forEach((name) => {\n      exported[name] = this.ctx[name];\n    });\n    return exported;\n  }\n}\n\nclass Template extends Obj {\n  init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n\n    if (lib.isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(\n            `Unexpected template object type ${src.type}; expected 'code', or 'string'`);\n      }\n    } else if (lib.isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n\n    this.path = path;\n\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw lib._prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  }\n\n  render(ctx, parentFrame, cb) {\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // If there is a parent frame, we are being called from internal\n    // code of another template, and the internal system\n    // depends on the sync/async nature of the parent template\n    // to be inherited, so force an async callback\n    const forceAsync = !parentFrame;\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      const err = lib._prettifyError(this.path, this.env.opts.dev, e);\n      if (cb) {\n        return callbackAsap(cb, err);\n      } else {\n        throw err;\n      }\n    }\n\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    const frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    let syncResult = null;\n    let didError = false;\n\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err, res) => {\n      // TODO: this is actually a bug in the compiled template (because waterfall\n      // tasks are both not passing errors up the chain of callbacks AND are not\n      // causing a return from the top-most render function). But fixing that\n      // will require a more substantial change to the compiler.\n      if (didError && cb && typeof res !== 'undefined') {\n        // prevent multiple calls to cb\n        return;\n      }\n\n      if (err) {\n        err = lib._prettifyError(this.path, this.env.opts.dev, err);\n        didError = true;\n      }\n\n      if (cb) {\n        if (forceAsync) {\n          callbackAsap(cb, err, res);\n        } else {\n          cb(err, res);\n        }\n      } else {\n        if (err) {\n          throw err;\n        }\n        syncResult = res;\n      }\n    });\n\n    return syncResult;\n  }\n\n\n  getExported(ctx, parentFrame, cb) { // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n\n    const frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err) => {\n      if (err) {\n        cb(err, null);\n      } else {\n        cb(null, context.getExported());\n      }\n    });\n  }\n\n  compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  }\n\n  _compile() {\n    var props;\n\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      const source = compiler.compile(this.tmplStr,\n        this.env.asyncFilters,\n        this.env.extensionsList,\n        this.path,\n        this.env.opts);\n\n      const func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  }\n\n  _getBlocks(props) {\n    var blocks = {};\n\n    lib.keys(props).forEach((k) => {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n\n    return blocks;\n  }\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/environment.js","'use strict';\n\nvar lexer = require('./lexer');\nvar nodes = require('./nodes');\nvar Obj = require('./object').Obj;\nvar lib = require('./lib');\n\nclass Parser extends Obj {\n  init(tokens) {\n    this.tokens = tokens;\n    this.peeked = null;\n    this.breakOnBlocks = null;\n    this.dropLeadingWhitespace = false;\n\n    this.extensions = [];\n  }\n\n  nextToken(withWhitespace) {\n    var tok;\n\n    if (this.peeked) {\n      if (!withWhitespace && this.peeked.type === lexer.TOKEN_WHITESPACE) {\n        this.peeked = null;\n      } else {\n        tok = this.peeked;\n        this.peeked = null;\n        return tok;\n      }\n    }\n\n    tok = this.tokens.nextToken();\n\n    if (!withWhitespace) {\n      while (tok && tok.type === lexer.TOKEN_WHITESPACE) {\n        tok = this.tokens.nextToken();\n      }\n    }\n\n    return tok;\n  }\n\n  peekToken() {\n    this.peeked = this.peeked || this.nextToken();\n    return this.peeked;\n  }\n\n  pushToken(tok) {\n    if (this.peeked) {\n      throw new Error('pushToken: can only push one token on between reads');\n    }\n    this.peeked = tok;\n  }\n\n  error(msg, lineno, colno) {\n    if (lineno === undefined || colno === undefined) {\n      const tok = this.peekToken() || {};\n      lineno = tok.lineno;\n      colno = tok.colno;\n    }\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    return new lib.TemplateError(msg, lineno, colno);\n  }\n\n  fail(msg, lineno, colno) {\n    throw this.error(msg, lineno, colno);\n  }\n\n  skip(type) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  expect(type) {\n    var tok = this.nextToken();\n    if (tok.type !== type) {\n      this.fail('expected ' + type + ', got ' + tok.type,\n        tok.lineno,\n        tok.colno);\n    }\n    return tok;\n  }\n\n  skipValue(type, val) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type || tok.value !== val) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  skipSymbol(val) {\n    return this.skipValue(lexer.TOKEN_SYMBOL, val);\n  }\n\n  advanceAfterBlockEnd(name) {\n    var tok;\n    if (!name) {\n      tok = this.peekToken();\n\n      if (!tok) {\n        this.fail('unexpected end of file');\n      }\n\n      if (tok.type !== lexer.TOKEN_SYMBOL) {\n        this.fail('advanceAfterBlockEnd: expected symbol token or ' +\n          'explicit name to be passed');\n      }\n\n      name = this.nextToken().value;\n    }\n\n    tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_BLOCK_END) {\n      if (tok.value.charAt(0) === '-') {\n        this.dropLeadingWhitespace = true;\n      }\n    } else {\n      this.fail('expected block end in ' + name + ' statement');\n    }\n\n    return tok;\n  }\n\n  advanceAfterVariableEnd() {\n    var tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_VARIABLE_END) {\n      this.dropLeadingWhitespace = tok.value.charAt(\n        tok.value.length - this.tokens.tags.VARIABLE_END.length - 1\n      ) === '-';\n    } else {\n      this.pushToken(tok);\n      this.fail('expected variable end');\n    }\n  }\n\n  parseFor() {\n    var forTok = this.peekToken();\n    var node;\n    var endBlock;\n\n    if (this.skipSymbol('for')) {\n      node = new nodes.For(forTok.lineno, forTok.colno);\n      endBlock = 'endfor';\n    } else if (this.skipSymbol('asyncEach')) {\n      node = new nodes.AsyncEach(forTok.lineno, forTok.colno);\n      endBlock = 'endeach';\n    } else if (this.skipSymbol('asyncAll')) {\n      node = new nodes.AsyncAll(forTok.lineno, forTok.colno);\n      endBlock = 'endall';\n    } else {\n      this.fail('parseFor: expected for{Async}', forTok.lineno, forTok.colno);\n    }\n\n    node.name = this.parsePrimary();\n\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseFor: variable name expected for loop');\n    }\n\n    const type = this.peekToken().type;\n    if (type === lexer.TOKEN_COMMA) {\n      // key/value iteration\n      const key = node.name;\n      node.name = new nodes.Array(key.lineno, key.colno);\n      node.name.addChild(key);\n\n      while (this.skip(lexer.TOKEN_COMMA)) {\n        const prim = this.parsePrimary();\n        node.name.addChild(prim);\n      }\n    }\n\n    if (!this.skipSymbol('in')) {\n      this.fail('parseFor: expected \"in\" keyword for loop',\n        forTok.lineno,\n        forTok.colno);\n    }\n\n    node.arr = this.parseExpression();\n    this.advanceAfterBlockEnd(forTok.value);\n\n    node.body = this.parseUntilBlocks(endBlock, 'else');\n\n    if (this.skipSymbol('else')) {\n      this.advanceAfterBlockEnd('else');\n      node.else_ = this.parseUntilBlocks(endBlock);\n    }\n\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseMacro() {\n    const macroTok = this.peekToken();\n    if (!this.skipSymbol('macro')) {\n      this.fail('expected macro');\n    }\n\n    const name = this.parsePrimary(true);\n    const args = this.parseSignature();\n    const node = new nodes.Macro(macroTok.lineno, macroTok.colno, name, args);\n\n    this.advanceAfterBlockEnd(macroTok.value);\n    node.body = this.parseUntilBlocks('endmacro');\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseCall() {\n    // a call block is parsed as a normal FunCall, but with an added\n    // 'caller' kwarg which is a Caller node.\n    var callTok = this.peekToken();\n    if (!this.skipSymbol('call')) {\n      this.fail('expected call');\n    }\n\n    const callerArgs = this.parseSignature(true) || new nodes.NodeList();\n    const macroCall = this.parsePrimary();\n\n    this.advanceAfterBlockEnd(callTok.value);\n    const body = this.parseUntilBlocks('endcall');\n    this.advanceAfterBlockEnd();\n\n    const callerName = new nodes.Symbol(callTok.lineno,\n      callTok.colno,\n      'caller');\n    const callerNode = new nodes.Caller(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerArgs,\n      body);\n\n    // add the additional caller kwarg, adding kwargs if necessary\n    const args = macroCall.args.children;\n    if (!(args[args.length - 1] instanceof nodes.KeywordArgs)) {\n      args.push(new nodes.KeywordArgs());\n    }\n    const kwargs = args[args.length - 1];\n    kwargs.addChild(new nodes.Pair(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerNode));\n\n    return new nodes.Output(callTok.lineno,\n      callTok.colno,\n      [macroCall]);\n  }\n\n  parseWithContext() {\n    var tok = this.peekToken();\n\n    var withContext = null;\n\n    if (this.skipSymbol('with')) {\n      withContext = true;\n    } else if (this.skipSymbol('without')) {\n      withContext = false;\n    }\n\n    if (withContext !== null) {\n      if (!this.skipSymbol('context')) {\n        this.fail('parseFrom: expected context after with/without',\n          tok.lineno,\n          tok.colno);\n      }\n    }\n\n    return withContext;\n  }\n\n  parseImport() {\n    var importTok = this.peekToken();\n    if (!this.skipSymbol('import')) {\n      this.fail('parseImport: expected import',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('as')) {\n      this.fail('parseImport: expected \"as\" keyword',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const target = this.parseExpression();\n    const withContext = this.parseWithContext();\n    const node = new nodes.Import(importTok.lineno,\n      importTok.colno,\n      template,\n      target,\n      withContext);\n\n    this.advanceAfterBlockEnd(importTok.value);\n\n    return node;\n  }\n\n  parseFrom() {\n    const fromTok = this.peekToken();\n    if (!this.skipSymbol('from')) {\n      this.fail('parseFrom: expected from');\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('import')) {\n      this.fail('parseFrom: expected import',\n        fromTok.lineno,\n        fromTok.colno);\n    }\n\n    const names = new nodes.NodeList();\n    let withContext;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const nextTok = this.peekToken();\n      if (nextTok.type === lexer.TOKEN_BLOCK_END) {\n        if (!names.children.length) {\n          this.fail('parseFrom: Expected at least one import name',\n            fromTok.lineno,\n            fromTok.colno);\n        }\n\n        // Since we are manually advancing past the block end,\n        // need to keep track of whitespace control (normally\n        // this is done in `advanceAfterBlockEnd`\n        if (nextTok.value.charAt(0) === '-') {\n          this.dropLeadingWhitespace = true;\n        }\n\n        this.nextToken();\n        break;\n      }\n\n      if (names.children.length > 0 && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseFrom: expected comma',\n          fromTok.lineno,\n          fromTok.colno);\n      }\n\n      const name = this.parsePrimary();\n      if (name.value.charAt(0) === '_') {\n        this.fail('parseFrom: names starting with an underscore cannot be imported',\n          name.lineno,\n          name.colno);\n      }\n\n      if (this.skipSymbol('as')) {\n        const alias = this.parsePrimary();\n        names.addChild(new nodes.Pair(name.lineno,\n          name.colno,\n          name,\n          alias));\n      } else {\n        names.addChild(name);\n      }\n\n      withContext = this.parseWithContext();\n    }\n\n    return new nodes.FromImport(fromTok.lineno,\n      fromTok.colno,\n      template,\n      names,\n      withContext);\n  }\n\n  parseBlock() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('block')) {\n      this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Block(tag.lineno, tag.colno);\n\n    node.name = this.parsePrimary();\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseBlock: variable name expected',\n        tag.lineno,\n        tag.colno);\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('endblock');\n    this.skipSymbol('endblock');\n    this.skipSymbol(node.name.value);\n\n    const tok = this.peekToken();\n    if (!tok) {\n      this.fail('parseBlock: expected endblock, got end of file');\n    }\n\n    this.advanceAfterBlockEnd(tok.value);\n\n    return node;\n  }\n\n  parseExtends() {\n    const tagName = 'extends';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseTemplateRef: expected ' + tagName);\n    }\n\n    const node = new nodes.Extends(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseInclude() {\n    const tagName = 'include';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseInclude: expected ' + tagName);\n    }\n\n    const node = new nodes.Include(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    if (this.skipSymbol('ignore') && this.skipSymbol('missing')) {\n      node.ignoreMissing = true;\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseIf() {\n    const tag = this.peekToken();\n    let node;\n\n    if (this.skipSymbol('if') || this.skipSymbol('elif') || this.skipSymbol('elseif')) {\n      node = new nodes.If(tag.lineno, tag.colno);\n    } else if (this.skipSymbol('ifAsync')) {\n      node = new nodes.IfAsync(tag.lineno, tag.colno);\n    } else {\n      this.fail('parseIf: expected if, elif, or elseif',\n        tag.lineno,\n        tag.colno);\n    }\n\n    node.cond = this.parseExpression();\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('elif', 'elseif', 'else', 'endif');\n    const tok = this.peekToken();\n\n    switch (tok && tok.value) {\n      case 'elseif':\n      case 'elif':\n        node.else_ = this.parseIf();\n        break;\n      case 'else':\n        this.advanceAfterBlockEnd();\n        node.else_ = this.parseUntilBlocks('endif');\n        this.advanceAfterBlockEnd();\n        break;\n      case 'endif':\n        node.else_ = null;\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        this.fail('parseIf: expected elif, else, or endif, got end of file');\n    }\n\n    return node;\n  }\n\n  parseSet() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('set')) {\n      this.fail('parseSet: expected set', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Set(tag.lineno, tag.colno, []);\n\n    let target;\n    while ((target = this.parsePrimary())) {\n      node.targets.push(target);\n\n      if (!this.skip(lexer.TOKEN_COMMA)) {\n        break;\n      }\n    }\n\n    if (!this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n      if (!this.skip(lexer.TOKEN_BLOCK_END)) {\n        this.fail('parseSet: expected = or block end in set tag',\n          tag.lineno,\n          tag.colno);\n      } else {\n        node.body = new nodes.Capture(\n          tag.lineno,\n          tag.colno,\n          this.parseUntilBlocks('endset')\n        );\n        node.value = null;\n        this.advanceAfterBlockEnd();\n      }\n    } else {\n      node.value = this.parseExpression();\n      this.advanceAfterBlockEnd(tag.value);\n    }\n\n    return node;\n  }\n\n  parseSwitch() {\n    /*\n     * Store the tag names in variables in case someone ever wants to\n     * customize this.\n     */\n    const switchStart = 'switch';\n    const switchEnd = 'endswitch';\n    const caseStart = 'case';\n    const caseDefault = 'default';\n\n    // Get the switch tag.\n    const tag = this.peekToken();\n\n    // fail early if we get some unexpected tag.\n    if (\n      !this.skipSymbol(switchStart)\n      && !this.skipSymbol(caseStart)\n      && !this.skipSymbol(caseDefault)\n    ) {\n      this.fail('parseSwitch: expected \"switch,\" \"case\" or \"default\"', tag.lineno, tag.colno);\n    }\n\n    // parse the switch expression\n    const expr = this.parseExpression();\n\n    // advance until a start of a case, a default case or an endswitch.\n    this.advanceAfterBlockEnd(switchStart);\n    this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n\n    // this is the first case. it could also be an endswitch, we'll check.\n    let tok = this.peekToken();\n\n    // create new variables for our cases and default case.\n    const cases = [];\n    let defaultCase;\n\n    // while we're dealing with new cases nodes...\n    do {\n      // skip the start symbol and get the case expression\n      this.skipSymbol(caseStart);\n      const cond = this.parseExpression();\n      this.advanceAfterBlockEnd(switchStart);\n      // get the body of the case node and add it to the array of cases.\n      const body = this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n      cases.push(new nodes.Case(tok.line, tok.col, cond, body));\n      // get our next case\n      tok = this.peekToken();\n    } while (tok && tok.value === caseStart);\n\n    // we either have a default case or a switch end.\n    switch (tok.value) {\n      case caseDefault:\n        this.advanceAfterBlockEnd();\n        defaultCase = this.parseUntilBlocks(switchEnd);\n        this.advanceAfterBlockEnd();\n        break;\n      case switchEnd:\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        // otherwise bail because EOF\n        this.fail('parseSwitch: expected \"case,\" \"default\" or \"endswitch,\" got EOF.');\n    }\n\n    // and return the switch node.\n    return new nodes.Switch(tag.lineno, tag.colno, expr, cases, defaultCase);\n  }\n\n  parseStatement() {\n    var tok = this.peekToken();\n    var node;\n\n    if (tok.type !== lexer.TOKEN_SYMBOL) {\n      this.fail('tag name expected', tok.lineno, tok.colno);\n    }\n\n    if (this.breakOnBlocks &&\n      lib.indexOf(this.breakOnBlocks, tok.value) !== -1) {\n      return null;\n    }\n\n    switch (tok.value) {\n      case 'raw':\n        return this.parseRaw();\n      case 'verbatim':\n        return this.parseRaw('verbatim');\n      case 'if':\n      case 'ifAsync':\n        return this.parseIf();\n      case 'for':\n      case 'asyncEach':\n      case 'asyncAll':\n        return this.parseFor();\n      case 'block':\n        return this.parseBlock();\n      case 'extends':\n        return this.parseExtends();\n      case 'include':\n        return this.parseInclude();\n      case 'set':\n        return this.parseSet();\n      case 'macro':\n        return this.parseMacro();\n      case 'call':\n        return this.parseCall();\n      case 'import':\n        return this.parseImport();\n      case 'from':\n        return this.parseFrom();\n      case 'filter':\n        return this.parseFilterStatement();\n      case 'switch':\n        return this.parseSwitch();\n      default:\n        if (this.extensions.length) {\n          for (let i = 0; i < this.extensions.length; i++) {\n            const ext = this.extensions[i];\n            if (lib.indexOf(ext.tags || [], tok.value) !== -1) {\n              return ext.parse(this, nodes, lexer);\n            }\n          }\n        }\n        this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n    }\n\n    return node;\n  }\n\n  parseRaw(tagName) {\n    tagName = tagName || 'raw';\n    const endTagName = 'end' + tagName;\n    // Look for upcoming raw blocks (ignore all other kinds of blocks)\n    const rawBlockRegex = new RegExp('([\\\\s\\\\S]*?){%\\\\s*(' + tagName + '|' + endTagName + ')\\\\s*(?=%})%}');\n    let rawLevel = 1;\n    let str = '';\n    let matches = null;\n\n    // Skip opening raw token\n    // Keep this token to track line and column numbers\n    const begun = this.advanceAfterBlockEnd();\n\n    // Exit when there's nothing to match\n    // or when we've found the matching \"endraw\" block\n    while ((matches = this.tokens._extractRegex(rawBlockRegex)) && rawLevel > 0) {\n      const all = matches[0];\n      const pre = matches[1];\n      const blockName = matches[2];\n\n      // Adjust rawlevel\n      if (blockName === tagName) {\n        rawLevel += 1;\n      } else if (blockName === endTagName) {\n        rawLevel -= 1;\n      }\n\n      // Add to str\n      if (rawLevel === 0) {\n        // We want to exclude the last \"endraw\"\n        str += pre;\n        // Move tokenizer to beginning of endraw block\n        this.tokens.backN(all.length - pre.length);\n      } else {\n        str += all;\n      }\n    }\n\n    return new nodes.Output(\n      begun.lineno,\n      begun.colno,\n      [new nodes.TemplateData(begun.lineno, begun.colno, str)]\n    );\n  }\n\n  parsePostfix(node) {\n    let lookup;\n    let tok = this.peekToken();\n\n    while (tok) {\n      if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n        // Function call\n        node = new nodes.FunCall(tok.lineno,\n          tok.colno,\n          node,\n          this.parseSignature());\n      } else if (tok.type === lexer.TOKEN_LEFT_BRACKET) {\n        // Reference\n        lookup = this.parseAggregate();\n        if (lookup.children.length > 1) {\n          this.fail('invalid index');\n        }\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup.children[0]);\n      } else if (tok.type === lexer.TOKEN_OPERATOR && tok.value === '.') {\n        // Reference\n        this.nextToken();\n        const val = this.nextToken();\n\n        if (val.type !== lexer.TOKEN_SYMBOL) {\n          this.fail('expected name as lookup value, got ' + val.value,\n            val.lineno,\n            val.colno);\n        }\n\n        // Make a literal string because it's not a variable\n        // reference\n        lookup = new nodes.Literal(val.lineno,\n          val.colno,\n          val.value);\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup);\n      } else {\n        break;\n      }\n\n      tok = this.peekToken();\n    }\n\n    return node;\n  }\n\n  parseExpression() {\n    var node = this.parseInlineIf();\n    return node;\n  }\n\n  parseInlineIf() {\n    let node = this.parseOr();\n    if (this.skipSymbol('if')) {\n      const condNode = this.parseOr();\n      const bodyNode = node;\n      node = new nodes.InlineIf(node.lineno, node.colno);\n      node.body = bodyNode;\n      node.cond = condNode;\n      if (this.skipSymbol('else')) {\n        node.else_ = this.parseOr();\n      } else {\n        node.else_ = null;\n      }\n    }\n\n    return node;\n  }\n\n  parseOr() {\n    let node = this.parseAnd();\n    while (this.skipSymbol('or')) {\n      const node2 = this.parseAnd();\n      node = new nodes.Or(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAnd() {\n    let node = this.parseNot();\n    while (this.skipSymbol('and')) {\n      const node2 = this.parseNot();\n      node = new nodes.And(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseNot() {\n    const tok = this.peekToken();\n    if (this.skipSymbol('not')) {\n      return new nodes.Not(tok.lineno,\n        tok.colno,\n        this.parseNot());\n    }\n    return this.parseIn();\n  }\n\n  parseIn() {\n    let node = this.parseIs();\n    while (1) { // eslint-disable-line no-constant-condition\n      // check if the next token is 'not'\n      const tok = this.nextToken();\n      if (!tok) {\n        break;\n      }\n      const invert = tok.type === lexer.TOKEN_SYMBOL && tok.value === 'not';\n      // if it wasn't 'not', put it back\n      if (!invert) {\n        this.pushToken(tok);\n      }\n      if (this.skipSymbol('in')) {\n        const node2 = this.parseIs();\n        node = new nodes.In(node.lineno,\n          node.colno,\n          node,\n          node2);\n        if (invert) {\n          node = new nodes.Not(node.lineno,\n            node.colno,\n            node);\n        }\n      } else {\n        // if we'd found a 'not' but this wasn't an 'in', put back the 'not'\n        if (invert) {\n          this.pushToken(tok);\n        }\n        break;\n      }\n    }\n    return node;\n  }\n\n  // I put this right after \"in\" in the operator precedence stack. That can\n  // obviously be changed to be closer to Jinja.\n  parseIs() {\n    let node = this.parseCompare();\n    // look for an is\n    if (this.skipSymbol('is')) {\n      // look for a not\n      const not = this.skipSymbol('not');\n      // get the next node\n      const node2 = this.parseCompare();\n      // create an Is node using the next node and the info from our Is node.\n      node = new nodes.Is(node.lineno, node.colno, node, node2);\n      // if we have a Not, create a Not node from our Is node.\n      if (not) {\n        node = new nodes.Not(node.lineno, node.colno, node);\n      }\n    }\n    // return the node.\n    return node;\n  }\n\n  parseCompare() {\n    const compareOps = ['==', '===', '!=', '!==', '<', '>', '<=', '>='];\n    const expr = this.parseConcat();\n    const ops = [];\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const tok = this.nextToken();\n\n      if (!tok) {\n        break;\n      } else if (compareOps.indexOf(tok.value) !== -1) {\n        ops.push(new nodes.CompareOperand(tok.lineno,\n          tok.colno,\n          this.parseConcat(),\n          tok.value));\n      } else {\n        this.pushToken(tok);\n        break;\n      }\n    }\n\n    if (ops.length) {\n      return new nodes.Compare(ops[0].lineno,\n        ops[0].colno,\n        expr,\n        ops);\n    } else {\n      return expr;\n    }\n  }\n\n  // finds the '~' for string concatenation\n  parseConcat() {\n    let node = this.parseAdd();\n    while (this.skipValue(lexer.TOKEN_TILDE, '~')) {\n      const node2 = this.parseAdd();\n      node = new nodes.Concat(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAdd() {\n    let node = this.parseSub();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      const node2 = this.parseSub();\n      node = new nodes.Add(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseSub() {\n    let node = this.parseMul();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      const node2 = this.parseMul();\n      node = new nodes.Sub(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMul() {\n    let node = this.parseDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '*')) {\n      const node2 = this.parseDiv();\n      node = new nodes.Mul(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseDiv() {\n    let node = this.parseFloorDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '/')) {\n      const node2 = this.parseFloorDiv();\n      node = new nodes.Div(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseFloorDiv() {\n    let node = this.parseMod();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '//')) {\n      const node2 = this.parseMod();\n      node = new nodes.FloorDiv(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMod() {\n    let node = this.parsePow();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '%')) {\n      const node2 = this.parsePow();\n      node = new nodes.Mod(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parsePow() {\n    let node = this.parseUnary();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '**')) {\n      const node2 = this.parseUnary();\n      node = new nodes.Pow(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseUnary(noFilters) {\n    const tok = this.peekToken();\n    let node;\n\n    if (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      node = new nodes.Neg(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else if (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      node = new nodes.Pos(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else {\n      node = this.parsePrimary();\n    }\n\n    if (!noFilters) {\n      node = this.parseFilter(node);\n    }\n\n    return node;\n  }\n\n  parsePrimary(noPostfix) {\n    const tok = this.nextToken();\n    let val;\n    let node = null;\n\n    if (!tok) {\n      this.fail('expected expression, got end of file');\n    } else if (tok.type === lexer.TOKEN_STRING) {\n      val = tok.value;\n    } else if (tok.type === lexer.TOKEN_INT) {\n      val = parseInt(tok.value, 10);\n    } else if (tok.type === lexer.TOKEN_FLOAT) {\n      val = parseFloat(tok.value);\n    } else if (tok.type === lexer.TOKEN_BOOLEAN) {\n      if (tok.value === 'true') {\n        val = true;\n      } else if (tok.value === 'false') {\n        val = false;\n      } else {\n        this.fail('invalid boolean: ' + tok.value,\n          tok.lineno,\n          tok.colno);\n      }\n    } else if (tok.type === lexer.TOKEN_NONE) {\n      val = null;\n    } else if (tok.type === lexer.TOKEN_REGEX) {\n      val = new RegExp(tok.value.body, tok.value.flags);\n    }\n\n    if (val !== undefined) {\n      node = new nodes.Literal(tok.lineno, tok.colno, val);\n    } else if (tok.type === lexer.TOKEN_SYMBOL) {\n      node = new nodes.Symbol(tok.lineno, tok.colno, tok.value);\n    } else {\n      // See if it's an aggregate type, we need to push the\n      // current delimiter token back on\n      this.pushToken(tok);\n      node = this.parseAggregate();\n    }\n\n    if (!noPostfix) {\n      node = this.parsePostfix(node);\n    }\n\n    if (node) {\n      return node;\n    } else {\n      throw this.error(`unexpected token: ${tok.value}`, tok.lineno, tok.colno);\n    }\n  }\n\n  parseFilterName() {\n    const tok = this.expect(lexer.TOKEN_SYMBOL);\n    let name = tok.value;\n\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '.')) {\n      name += '.' + this.expect(lexer.TOKEN_SYMBOL).value;\n    }\n\n    return new nodes.Symbol(tok.lineno, tok.colno, name);\n  }\n\n  parseFilterArgs(node) {\n    if (this.peekToken().type === lexer.TOKEN_LEFT_PAREN) {\n      // Get a FunCall node and add the parameters to the\n      // filter\n      const call = this.parsePostfix(node);\n      return call.args.children;\n    }\n    return [];\n  }\n\n  parseFilter(node) {\n    while (this.skip(lexer.TOKEN_PIPE)) {\n      const name = this.parseFilterName();\n\n      node = new nodes.Filter(\n        name.lineno,\n        name.colno,\n        name,\n        new nodes.NodeList(\n          name.lineno,\n          name.colno,\n          [node].concat(this.parseFilterArgs(node))\n        )\n      );\n    }\n\n    return node;\n  }\n\n  parseFilterStatement() {\n    var filterTok = this.peekToken();\n    if (!this.skipSymbol('filter')) {\n      this.fail('parseFilterStatement: expected filter');\n    }\n\n    const name = this.parseFilterName();\n    const args = this.parseFilterArgs(name);\n\n    this.advanceAfterBlockEnd(filterTok.value);\n    const body = new nodes.Capture(\n      name.lineno,\n      name.colno,\n      this.parseUntilBlocks('endfilter')\n    );\n    this.advanceAfterBlockEnd();\n\n    const node = new nodes.Filter(\n      name.lineno,\n      name.colno,\n      name,\n      new nodes.NodeList(\n        name.lineno,\n        name.colno,\n        [body].concat(args)\n      )\n    );\n\n    return new nodes.Output(\n      name.lineno,\n      name.colno,\n      [node]\n    );\n  }\n\n  parseAggregate() {\n    var tok = this.nextToken();\n    var node;\n\n    switch (tok.type) {\n      case lexer.TOKEN_LEFT_PAREN:\n        node = new nodes.Group(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_BRACKET:\n        node = new nodes.Array(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_CURLY:\n        node = new nodes.Dict(tok.lineno, tok.colno);\n        break;\n      default:\n        return null;\n    }\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const type = this.peekToken().type;\n      if (type === lexer.TOKEN_RIGHT_PAREN ||\n        type === lexer.TOKEN_RIGHT_BRACKET ||\n        type === lexer.TOKEN_RIGHT_CURLY) {\n        this.nextToken();\n        break;\n      }\n\n      if (node.children.length > 0) {\n        if (!this.skip(lexer.TOKEN_COMMA)) {\n          this.fail('parseAggregate: expected comma after expression',\n            tok.lineno,\n            tok.colno);\n        }\n      }\n\n      if (node instanceof nodes.Dict) {\n        // TODO: check for errors\n        const key = this.parsePrimary();\n\n        // We expect a key/value pair for dicts, separated by a\n        // colon\n        if (!this.skip(lexer.TOKEN_COLON)) {\n          this.fail('parseAggregate: expected colon after dict key',\n            tok.lineno,\n            tok.colno);\n        }\n\n        // TODO: check for errors\n        const value = this.parseExpression();\n        node.addChild(new nodes.Pair(key.lineno,\n          key.colno,\n          key,\n          value));\n      } else {\n        // TODO: check for errors\n        const expr = this.parseExpression();\n        node.addChild(expr);\n      }\n    }\n\n    return node;\n  }\n\n  parseSignature(tolerant, noParens) {\n    let tok = this.peekToken();\n    if (!noParens && tok.type !== lexer.TOKEN_LEFT_PAREN) {\n      if (tolerant) {\n        return null;\n      } else {\n        this.fail('expected arguments', tok.lineno, tok.colno);\n      }\n    }\n\n    if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n      tok = this.nextToken();\n    }\n\n    const args = new nodes.NodeList(tok.lineno, tok.colno);\n    const kwargs = new nodes.KeywordArgs(tok.lineno, tok.colno);\n    let checkComma = false;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      tok = this.peekToken();\n      if (!noParens && tok.type === lexer.TOKEN_RIGHT_PAREN) {\n        this.nextToken();\n        break;\n      } else if (noParens && tok.type === lexer.TOKEN_BLOCK_END) {\n        break;\n      }\n\n      if (checkComma && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseSignature: expected comma after expression',\n          tok.lineno,\n          tok.colno);\n      } else {\n        const arg = this.parseExpression();\n\n        if (this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n          kwargs.addChild(\n            new nodes.Pair(arg.lineno,\n              arg.colno,\n              arg,\n              this.parseExpression())\n          );\n        } else {\n          args.addChild(arg);\n        }\n      }\n\n      checkComma = true;\n    }\n\n    if (kwargs.children.length) {\n      args.addChild(kwargs);\n    }\n\n    return args;\n  }\n\n  parseUntilBlocks(...blockNames) {\n    const prev = this.breakOnBlocks;\n    this.breakOnBlocks = blockNames;\n\n    const ret = this.parse();\n\n    this.breakOnBlocks = prev;\n    return ret;\n  }\n\n  parseNodes() {\n    let tok;\n    const buf = [];\n\n    while ((tok = this.nextToken())) {\n      if (tok.type === lexer.TOKEN_DATA) {\n        let data = tok.value;\n        const nextToken = this.peekToken();\n        const nextVal = nextToken && nextToken.value;\n\n        // If the last token has \"-\" we need to trim the\n        // leading whitespace of the data. This is marked with\n        // the `dropLeadingWhitespace` variable.\n        if (this.dropLeadingWhitespace) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/^\\s*/, '');\n          this.dropLeadingWhitespace = false;\n        }\n\n        // Same for the succeeding block start token\n        if (nextToken &&\n          ((nextToken.type === lexer.TOKEN_BLOCK_START &&\n          nextVal.charAt(nextVal.length - 1) === '-') ||\n          (nextToken.type === lexer.TOKEN_VARIABLE_START &&\n          nextVal.charAt(this.tokens.tags.VARIABLE_START.length)\n          === '-') ||\n          (nextToken.type === lexer.TOKEN_COMMENT &&\n          nextVal.charAt(this.tokens.tags.COMMENT_START.length)\n          === '-'))) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/\\s*$/, '');\n        }\n\n        buf.push(new nodes.Output(tok.lineno,\n          tok.colno,\n          [new nodes.TemplateData(tok.lineno,\n            tok.colno,\n            data)]));\n      } else if (tok.type === lexer.TOKEN_BLOCK_START) {\n        this.dropLeadingWhitespace = false;\n        const n = this.parseStatement();\n        if (!n) {\n          break;\n        }\n        buf.push(n);\n      } else if (tok.type === lexer.TOKEN_VARIABLE_START) {\n        const e = this.parseExpression();\n        this.dropLeadingWhitespace = false;\n        this.advanceAfterVariableEnd();\n        buf.push(new nodes.Output(tok.lineno, tok.colno, [e]));\n      } else if (tok.type === lexer.TOKEN_COMMENT) {\n        this.dropLeadingWhitespace = tok.value.charAt(\n          tok.value.length - this.tokens.tags.COMMENT_END.length - 1\n        ) === '-';\n      } else {\n        // Ignore comments, otherwise this should be an error\n        this.fail('Unexpected token at top-level: ' +\n          tok.type, tok.lineno, tok.colno);\n      }\n    }\n\n    return buf;\n  }\n\n  parse() {\n    return new nodes.NodeList(0, 0, this.parseNodes());\n  }\n\n  parseAsRoot() {\n    return new nodes.Root(0, 0, this.parseNodes());\n  }\n}\n\n// var util = require('util');\n\n// var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n// var t;\n// while((t = l.nextToken())) {\n//     console.log(util.inspect(t));\n// }\n\n// var p = new Parser(lexer.lex('hello {% filter title %}' +\n//                              'Hello madam how are you' +\n//                              '{% endfilter %}'));\n// var n = p.parseAsRoot();\n// nodes.printNodes(n);\n\nmodule.exports = {\n  parse(src, extensions, opts) {\n    var p = new Parser(lexer.lex(src, opts));\n    if (extensions !== undefined) {\n      p.extensions = extensions;\n    }\n    return p.parseAsRoot();\n  },\n  Parser: Parser\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/parser.js","'use strict';\n\nconst lib = require('./lib');\n\nlet whitespaceChars = ' \\n\\t\\r\\u00A0';\nlet delimChars = '()[]{}%*-+~/#,:|.<>=!';\nlet intChars = '0123456789';\n\nlet BLOCK_START = '{%';\nlet BLOCK_END = '%}';\nlet VARIABLE_START = '{{';\nlet VARIABLE_END = '}}';\nlet COMMENT_START = '{#';\nlet COMMENT_END = '#}';\n\nlet TOKEN_STRING = 'string';\nlet TOKEN_WHITESPACE = 'whitespace';\nlet TOKEN_DATA = 'data';\nlet TOKEN_BLOCK_START = 'block-start';\nlet TOKEN_BLOCK_END = 'block-end';\nlet TOKEN_VARIABLE_START = 'variable-start';\nlet TOKEN_VARIABLE_END = 'variable-end';\nlet TOKEN_COMMENT = 'comment';\nlet TOKEN_LEFT_PAREN = 'left-paren';\nlet TOKEN_RIGHT_PAREN = 'right-paren';\nlet TOKEN_LEFT_BRACKET = 'left-bracket';\nlet TOKEN_RIGHT_BRACKET = 'right-bracket';\nlet TOKEN_LEFT_CURLY = 'left-curly';\nlet TOKEN_RIGHT_CURLY = 'right-curly';\nlet TOKEN_OPERATOR = 'operator';\nlet TOKEN_COMMA = 'comma';\nlet TOKEN_COLON = 'colon';\nlet TOKEN_TILDE = 'tilde';\nlet TOKEN_PIPE = 'pipe';\nlet TOKEN_INT = 'int';\nlet TOKEN_FLOAT = 'float';\nlet TOKEN_BOOLEAN = 'boolean';\nlet TOKEN_NONE = 'none';\nlet TOKEN_SYMBOL = 'symbol';\nlet TOKEN_SPECIAL = 'special';\nlet TOKEN_REGEX = 'regex';\n\nfunction token(type, value, lineno, colno) {\n  return {\n    type: type,\n    value: value,\n    lineno: lineno,\n    colno: colno\n  };\n}\n\nclass Tokenizer {\n  constructor(str, opts) {\n    this.str = str;\n    this.index = 0;\n    this.len = str.length;\n    this.lineno = 0;\n    this.colno = 0;\n\n    this.in_code = false;\n\n    opts = opts || {};\n\n    let tags = opts.tags || {};\n    this.tags = {\n      BLOCK_START: tags.blockStart || BLOCK_START,\n      BLOCK_END: tags.blockEnd || BLOCK_END,\n      VARIABLE_START: tags.variableStart || VARIABLE_START,\n      VARIABLE_END: tags.variableEnd || VARIABLE_END,\n      COMMENT_START: tags.commentStart || COMMENT_START,\n      COMMENT_END: tags.commentEnd || COMMENT_END\n    };\n\n    this.trimBlocks = !!opts.trimBlocks;\n    this.lstripBlocks = !!opts.lstripBlocks;\n  }\n\n  nextToken() {\n    let lineno = this.lineno;\n    let colno = this.colno;\n    let tok;\n\n    if (this.in_code) {\n      // Otherwise, if we are in a block parse it as code\n      let cur = this.current();\n\n      if (this.isFinished()) {\n        // We have nothing else to parse\n        return null;\n      } else if (cur === '\"' || cur === '\\'') {\n        // We've hit a string\n        return token(TOKEN_STRING, this._parseString(cur), lineno, colno);\n      } else if ((tok = this._extract(whitespaceChars))) {\n        // We hit some whitespace\n        return token(TOKEN_WHITESPACE, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.BLOCK_END)) ||\n        (tok = this._extractString('-' + this.tags.BLOCK_END))) {\n        // Special check for the block end tag\n        //\n        // It is a requirement that start and end tags are composed of\n        // delimiter characters (%{}[] etc), and our code always\n        // breaks on delimiters so we can assume the token parsing\n        // doesn't consume these elsewhere\n        this.in_code = false;\n        if (this.trimBlocks) {\n          cur = this.current();\n          if (cur === '\\n') {\n            // Skip newline\n            this.forward();\n          } else if (cur === '\\r') {\n            // Skip CRLF newline\n            this.forward();\n            cur = this.current();\n            if (cur === '\\n') {\n              this.forward();\n            } else {\n              // Was not a CRLF, so go back\n              this.back();\n            }\n          }\n        }\n        return token(TOKEN_BLOCK_END, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_END)) ||\n        (tok = this._extractString('-' + this.tags.VARIABLE_END))) {\n        // Special check for variable end tag (see above)\n        this.in_code = false;\n        return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n      } else if (cur === 'r' && this.str.charAt(this.index + 1) === '/') {\n        // Skip past 'r/'.\n        this.forwardN(2);\n\n        // Extract until the end of the regex -- / ends it, \\/ does not.\n        let regexBody = '';\n        while (!this.isFinished()) {\n          if (this.current() === '/' && this.previous() !== '\\\\') {\n            this.forward();\n            break;\n          } else {\n            regexBody += this.current();\n            this.forward();\n          }\n        }\n\n        // Check for flags.\n        // The possible flags are according to https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n        let POSSIBLE_FLAGS = ['g', 'i', 'm', 'y'];\n        let regexFlags = '';\n        while (!this.isFinished()) {\n          let isCurrentAFlag = POSSIBLE_FLAGS.indexOf(this.current()) !== -1;\n          if (isCurrentAFlag) {\n            regexFlags += this.current();\n            this.forward();\n          } else {\n            break;\n          }\n        }\n\n        return token(TOKEN_REGEX, {\n          body: regexBody,\n          flags: regexFlags\n        }, lineno, colno);\n      } else if (delimChars.indexOf(cur) !== -1) {\n        // We've hit a delimiter (a special char like a bracket)\n        this.forward();\n        let complexOps = ['==', '===', '!=', '!==', '<=', '>=', '//', '**'];\n        let curComplex = cur + this.current();\n        let type;\n\n        if (lib.indexOf(complexOps, curComplex) !== -1) {\n          this.forward();\n          cur = curComplex;\n\n          // See if this is a strict equality/inequality comparator\n          if (lib.indexOf(complexOps, curComplex + this.current()) !== -1) {\n            cur = curComplex + this.current();\n            this.forward();\n          }\n        }\n\n        switch (cur) {\n          case '(':\n            type = TOKEN_LEFT_PAREN;\n            break;\n          case ')':\n            type = TOKEN_RIGHT_PAREN;\n            break;\n          case '[':\n            type = TOKEN_LEFT_BRACKET;\n            break;\n          case ']':\n            type = TOKEN_RIGHT_BRACKET;\n            break;\n          case '{':\n            type = TOKEN_LEFT_CURLY;\n            break;\n          case '}':\n            type = TOKEN_RIGHT_CURLY;\n            break;\n          case ',':\n            type = TOKEN_COMMA;\n            break;\n          case ':':\n            type = TOKEN_COLON;\n            break;\n          case '~':\n            type = TOKEN_TILDE;\n            break;\n          case '|':\n            type = TOKEN_PIPE;\n            break;\n          default:\n            type = TOKEN_OPERATOR;\n        }\n\n        return token(type, cur, lineno, colno);\n      } else {\n        // We are not at whitespace or a delimiter, so extract the\n        // text and parse it\n        tok = this._extractUntil(whitespaceChars + delimChars);\n\n        if (tok.match(/^[-+]?[0-9]+$/)) {\n          if (this.current() === '.') {\n            this.forward();\n            let dec = this._extract(intChars);\n            return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n          } else {\n            return token(TOKEN_INT, tok, lineno, colno);\n          }\n        } else if (tok.match(/^(true|false)$/)) {\n          return token(TOKEN_BOOLEAN, tok, lineno, colno);\n        } else if (tok === 'none') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        /*\n         * Added to make the test `null is null` evaluate truthily.\n         * Otherwise, Nunjucks will look up null in the context and\n         * return `undefined`, which is not what we want. This *may* have\n         * consequences is someone is using null in their templates as a\n         * variable.\n         */\n        } else if (tok === 'null') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        } else if (tok) {\n          return token(TOKEN_SYMBOL, tok, lineno, colno);\n        } else {\n          throw new Error('Unexpected value while parsing: ' + tok);\n        }\n      }\n    } else {\n      // Parse out the template text, breaking on tag\n      // delimiters because we need to look for block/variable start\n      // tags (don't use the full delimChars for optimization)\n      let beginChars = (this.tags.BLOCK_START.charAt(0) +\n      this.tags.VARIABLE_START.charAt(0) +\n      this.tags.COMMENT_START.charAt(0) +\n      this.tags.COMMENT_END.charAt(0));\n\n      if (this.isFinished()) {\n        return null;\n      } else if ((tok = this._extractString(this.tags.BLOCK_START + '-')) ||\n        (tok = this._extractString(this.tags.BLOCK_START))) {\n        this.in_code = true;\n        return token(TOKEN_BLOCK_START, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_START + '-')) ||\n        (tok = this._extractString(this.tags.VARIABLE_START))) {\n        this.in_code = true;\n        return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n      } else {\n        tok = '';\n        let data;\n        let inComment = false;\n\n        if (this._matches(this.tags.COMMENT_START)) {\n          inComment = true;\n          tok = this._extractString(this.tags.COMMENT_START);\n        }\n\n        // Continually consume text, breaking on the tag delimiter\n        // characters and checking to see if it's a start tag.\n        //\n        // We could hit the end of the template in the middle of\n        // our looping, so check for the null return value from\n        // _extractUntil\n        while ((data = this._extractUntil(beginChars)) !== null) {\n          tok += data;\n\n          if ((this._matches(this.tags.BLOCK_START) ||\n            this._matches(this.tags.VARIABLE_START) ||\n            this._matches(this.tags.COMMENT_START)) &&\n            !inComment) {\n            if (this.lstripBlocks &&\n              this._matches(this.tags.BLOCK_START) &&\n              this.colno > 0 &&\n              this.colno <= tok.length) {\n              let lastLine = tok.slice(-this.colno);\n              if (/^\\s+$/.test(lastLine)) {\n                // Remove block leading whitespace from beginning of the string\n                tok = tok.slice(0, -this.colno);\n                if (!tok.length) {\n                  // All data removed, collapse to avoid unnecessary nodes\n                  // by returning next token (block start)\n                  return this.nextToken();\n                }\n              }\n            }\n            // If it is a start tag, stop looping\n            break;\n          } else if (this._matches(this.tags.COMMENT_END)) {\n            if (!inComment) {\n              throw new Error('unexpected end of comment');\n            }\n            tok += this._extractString(this.tags.COMMENT_END);\n            break;\n          } else {\n            // It does not match any tag, so add the character and\n            // carry on\n            tok += this.current();\n            this.forward();\n          }\n        }\n\n        if (data === null && inComment) {\n          throw new Error('expected end of comment, got end of file');\n        }\n\n        return token(inComment ? TOKEN_COMMENT : TOKEN_DATA,\n          tok,\n          lineno,\n          colno);\n      }\n    }\n  }\n\n  _parseString(delimiter) {\n    this.forward();\n\n    let str = '';\n\n    while (!this.isFinished() && this.current() !== delimiter) {\n      let cur = this.current();\n\n      if (cur === '\\\\') {\n        this.forward();\n        switch (this.current()) {\n          case 'n':\n            str += '\\n';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          default:\n            str += this.current();\n        }\n        this.forward();\n      } else {\n        str += cur;\n        this.forward();\n      }\n    }\n\n    this.forward();\n    return str;\n  }\n\n  _matches(str) {\n    if (this.index + str.length > this.len) {\n      return null;\n    }\n\n    let m = this.str.slice(this.index, this.index + str.length);\n    return m === str;\n  }\n\n  _extractString(str) {\n    if (this._matches(str)) {\n      this.forwardN(str.length);\n      return str;\n    }\n    return null;\n  }\n\n  _extractUntil(charString) {\n    // Extract all non-matching chars, with the default matching set\n    // to everything\n    return this._extractMatching(true, charString || '');\n  }\n\n  _extract(charString) {\n    // Extract all matching chars (no default, so charString must be\n    // explicit)\n    return this._extractMatching(false, charString);\n  }\n\n  _extractMatching(breakOnMatch, charString) {\n    // Pull out characters until a breaking char is hit.\n    // If breakOnMatch is false, a non-matching char stops it.\n    // If breakOnMatch is true, a matching char stops it.\n\n    if (this.isFinished()) {\n      return null;\n    }\n\n    let first = charString.indexOf(this.current());\n\n    // Only proceed if the first character doesn't meet our condition\n    if ((breakOnMatch && first === -1) ||\n      (!breakOnMatch && first !== -1)) {\n      let t = this.current();\n      this.forward();\n\n      // And pull out all the chars one at a time until we hit a\n      // breaking char\n      let idx = charString.indexOf(this.current());\n\n      while (((breakOnMatch && idx === -1) ||\n        (!breakOnMatch && idx !== -1)) && !this.isFinished()) {\n        t += this.current();\n        this.forward();\n\n        idx = charString.indexOf(this.current());\n      }\n\n      return t;\n    }\n\n    return '';\n  }\n\n  _extractRegex(regex) {\n    let matches = this.currentStr().match(regex);\n    if (!matches) {\n      return null;\n    }\n\n    // Move forward whatever was matched\n    this.forwardN(matches[0].length);\n\n    return matches;\n  }\n\n  isFinished() {\n    return this.index >= this.len;\n  }\n\n  forwardN(n) {\n    for (let i = 0; i < n; i++) {\n      this.forward();\n    }\n  }\n\n  forward() {\n    this.index++;\n\n    if (this.previous() === '\\n') {\n      this.lineno++;\n      this.colno = 0;\n    } else {\n      this.colno++;\n    }\n  }\n\n  backN(n) {\n    for (let i = 0; i < n; i++) {\n      this.back();\n    }\n  }\n\n  back() {\n    this.index--;\n\n    if (this.current() === '\\n') {\n      this.lineno--;\n\n      let idx = this.src.lastIndexOf('\\n', this.index - 1);\n      if (idx === -1) {\n        this.colno = this.index;\n      } else {\n        this.colno = this.index - idx;\n      }\n    } else {\n      this.colno--;\n    }\n  }\n\n  // current returns current character\n  current() {\n    if (!this.isFinished()) {\n      return this.str.charAt(this.index);\n    }\n    return '';\n  }\n\n  // currentStr returns what's left of the unparsed string\n  currentStr() {\n    if (!this.isFinished()) {\n      return this.str.substr(this.index);\n    }\n    return '';\n  }\n\n  previous() {\n    return this.str.charAt(this.index - 1);\n  }\n}\n\nmodule.exports = {\n  lex(src, opts) {\n    return new Tokenizer(src, opts);\n  },\n\n  TOKEN_STRING: TOKEN_STRING,\n  TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n  TOKEN_DATA: TOKEN_DATA,\n  TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n  TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n  TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n  TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n  TOKEN_COMMENT: TOKEN_COMMENT,\n  TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n  TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n  TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n  TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n  TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n  TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n  TOKEN_OPERATOR: TOKEN_OPERATOR,\n  TOKEN_COMMA: TOKEN_COMMA,\n  TOKEN_COLON: TOKEN_COLON,\n  TOKEN_TILDE: TOKEN_TILDE,\n  TOKEN_PIPE: TOKEN_PIPE,\n  TOKEN_INT: TOKEN_INT,\n  TOKEN_FLOAT: TOKEN_FLOAT,\n  TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n  TOKEN_NONE: TOKEN_NONE,\n  TOKEN_SYMBOL: TOKEN_SYMBOL,\n  TOKEN_SPECIAL: TOKEN_SPECIAL,\n  TOKEN_REGEX: TOKEN_REGEX\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lexer.js","'use strict';\n\nconst Loader = require('./loader');\nconst {PrecompiledLoader} = require('./precompiled-loader.js');\n\nclass WebLoader extends Loader {\n  constructor(baseURL, opts) {\n    super();\n    this.baseURL = baseURL || '.';\n    opts = opts || {};\n\n    // By default, the cache is turned off because there's no way\n    // to \"watch\" templates over HTTP, so they are re-downloaded\n    // and compiled each time. (Remember, PRECOMPILE YOUR\n    // TEMPLATES in production!)\n    this.useCache = !!opts.useCache;\n\n    // We default `async` to false so that the simple synchronous\n    // API can be used when you aren't doing anything async in\n    // your templates (which is most of the time). This performs a\n    // sync ajax request, but that's ok because it should *only*\n    // happen in development. PRECOMPILE YOUR TEMPLATES.\n    this.async = !!opts.async;\n  }\n\n  resolve(from, to) {\n    throw new Error('relative templates not support in the browser yet');\n  }\n\n  getSource(name, cb) {\n    var useCache = this.useCache;\n    var result;\n    this.fetch(this.baseURL + '/' + name, (err, src) => {\n      if (err) {\n        if (cb) {\n          cb(err.content);\n        } else if (err.status === 404) {\n          result = null;\n        } else {\n          throw err.content;\n        }\n      } else {\n        result = {\n          src: src,\n          path: name,\n          noCache: !useCache\n        };\n        this.emit('load', name, result);\n        if (cb) {\n          cb(null, result);\n        }\n      }\n    });\n\n    // if this WebLoader isn't running asynchronously, the\n    // fetch above would actually run sync and we'll have a\n    // result here\n    return result;\n  }\n\n  fetch(url, cb) {\n    // Only in the browser please\n    if (typeof window === 'undefined') {\n      throw new Error('WebLoader can only by used in a browser');\n    }\n\n    const ajax = new XMLHttpRequest();\n    let loading = true;\n\n    ajax.onreadystatechange = () => {\n      if (ajax.readyState === 4 && loading) {\n        loading = false;\n        if (ajax.status === 0 || ajax.status === 200) {\n          cb(null, ajax.responseText);\n        } else {\n          cb({\n            status: ajax.status,\n            content: ajax.responseText\n          });\n        }\n      }\n    };\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' +\n    (new Date().getTime());\n\n    ajax.open('GET', url, this.async);\n    ajax.send();\n  }\n}\n\nmodule.exports = {\n  WebLoader: WebLoader,\n  PrecompiledLoader: PrecompiledLoader\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/web-loaders.js","'use strict';\n\nconst lib = require('./src/lib');\nconst {Environment, Template} = require('./src/environment');\nconst Loader = require('./src/loader');\nconst loaders = require('./src/loaders');\nconst precompile = require('./src/precompile');\nconst compiler = require('./src/compiler');\nconst parser = require('./src/parser');\nconst lexer = require('./src/lexer');\nconst runtime = require('./src/runtime');\nconst nodes = require('./src/nodes');\nconst installJinjaCompat = require('./src/jinja-compat');\n\n// A single instance of an environment, since this is so commonly used\nlet e;\n\nfunction configure(templatesPath, opts) {\n  opts = opts || {};\n  if (lib.isObject(templatesPath)) {\n    opts = templatesPath;\n    templatesPath = null;\n  }\n\n  let TemplateLoader;\n  if (loaders.FileSystemLoader) {\n    TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n      watch: opts.watch,\n      noCache: opts.noCache\n    });\n  } else if (loaders.WebLoader) {\n    TemplateLoader = new loaders.WebLoader(templatesPath, {\n      useCache: opts.web && opts.web.useCache,\n      async: opts.web && opts.web.async\n    });\n  }\n\n  e = new Environment(TemplateLoader, opts);\n\n  if (opts && opts.express) {\n    e.express(opts.express);\n  }\n\n  return e;\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template,\n  Loader: Loader,\n  FileSystemLoader: loaders.FileSystemLoader,\n  NodeResolveLoader: loaders.NodeResolveLoader,\n  PrecompiledLoader: loaders.PrecompiledLoader,\n  WebLoader: loaders.WebLoader,\n  compiler: compiler,\n  parser: parser,\n  lexer: lexer,\n  runtime: runtime,\n  lib: lib,\n  nodes: nodes,\n  installJinjaCompat: installJinjaCompat,\n  configure: configure,\n  reset() {\n    e = undefined;\n  },\n  compile(src, env, path, eagerCompile) {\n    if (!e) {\n      configure();\n    }\n    return new Template(src, env, path, eagerCompile);\n  },\n  render(name, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.render(name, ctx, cb);\n  },\n  renderString(src, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n  },\n  precompile: (precompile) ? precompile.precompile : undefined,\n  precompileString: (precompile) ? precompile.precompileString : undefined,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/index.js","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-asap.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-raw.js\n// module id = 13\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 14\n// module chunks = 0","// MIT license (by Elan Shanker).\n(function(globals) {\n  'use strict';\n\n  var executeSync = function(){\n    var args = Array.prototype.slice.call(arguments);\n    if (typeof args[0] === 'function'){\n      args[0].apply(null, args.splice(1));\n    }\n  };\n\n  var executeAsync = function(fn){\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n\n  var makeIterator = function (tasks) {\n    var makeCallback = function (index) {\n      var fn = function () {\n        if (tasks.length) {\n          tasks[index].apply(null, arguments);\n        }\n        return fn.next();\n      };\n      fn.next = function () {\n        return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n      };\n      return fn;\n    };\n    return makeCallback(0);\n  };\n  \n  var _isArray = Array.isArray || function(maybeArray){\n    return Object.prototype.toString.call(maybeArray) === '[object Array]';\n  };\n\n  var waterfall = function (tasks, callback, forceAsync) {\n    var nextTick = forceAsync ? executeAsync : executeSync;\n    callback = callback || function () {};\n    if (!_isArray(tasks)) {\n      var err = new Error('First argument to waterfall must be an array of functions');\n      return callback(err);\n    }\n    if (!tasks.length) {\n      return callback();\n    }\n    var wrapIterator = function (iterator) {\n      return function (err) {\n        if (err) {\n          callback.apply(null, arguments);\n          callback = function () {};\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var next = iterator.next();\n          if (next) {\n            args.push(wrapIterator(next));\n          } else {\n            args.push(callback);\n          }\n          nextTick(function () {\n            iterator.apply(null, args);\n          });\n        }\n      };\n    };\n    wrapIterator(makeIterator(tasks))();\n  };\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return waterfall;\n    }); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = waterfall; // CommonJS\n  } else {\n    globals.waterfall = waterfall; // <script>\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/a-sync-waterfall/index.js\n// module id = 15\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/events/events.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nvar nodes = require('./nodes');\nvar lib = require('./lib');\n\nvar sym = 0;\nfunction gensym() {\n  return 'hole_' + sym++;\n}\n\n// copy-on-write version of map\nfunction mapCOW(arr, func) {\n  var res = null;\n  for (let i = 0; i < arr.length; i++) {\n    const item = func(arr[i]);\n\n    if (item !== arr[i]) {\n      if (!res) {\n        res = arr.slice();\n      }\n\n      res[i] = item;\n    }\n  }\n\n  return res || arr;\n}\n\nfunction walk(ast, func, depthFirst) {\n  if (!(ast instanceof nodes.Node)) {\n    return ast;\n  }\n\n  if (!depthFirst) {\n    const astT = func(ast);\n\n    if (astT && astT !== ast) {\n      return astT;\n    }\n  }\n\n  if (ast instanceof nodes.NodeList) {\n    const children = mapCOW(ast.children, (node) => walk(node, func, depthFirst));\n\n    if (children !== ast.children) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n    }\n  } else if (ast instanceof nodes.CallExtension) {\n    const args = walk(ast.args, func, depthFirst);\n    const contentArgs = mapCOW(ast.contentArgs, (node) => walk(node, func, depthFirst));\n\n    if (args !== ast.args || contentArgs !== ast.contentArgs) {\n      ast = new nodes[ast.typename](ast.extName, ast.prop, args, contentArgs);\n    }\n  } else {\n    const props = ast.fields.map((field) => ast[field]);\n    const propsT = mapCOW(props, (prop) => walk(prop, func, depthFirst));\n\n    if (propsT !== props) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno);\n      propsT.forEach((prop, i) => {\n        ast[ast.fields[i]] = prop;\n      });\n    }\n  }\n\n  return depthFirst ? (func(ast) || ast) : ast;\n}\n\nfunction depthWalk(ast, func) {\n  return walk(ast, func, true);\n}\n\nfunction _liftFilters(node, asyncFilters, prop) {\n  var children = [];\n\n  var walked = depthWalk(prop ? node[prop] : node, (descNode) => {\n    let symbol;\n    if (descNode instanceof nodes.Block) {\n      return descNode;\n    } else if ((descNode instanceof nodes.Filter &&\n      lib.indexOf(asyncFilters, descNode.name.value) !== -1) ||\n      descNode instanceof nodes.CallExtensionAsync) {\n      symbol = new nodes.Symbol(descNode.lineno,\n        descNode.colno,\n        gensym());\n\n      children.push(new nodes.FilterAsync(descNode.lineno,\n        descNode.colno,\n        descNode.name,\n        descNode.args,\n        symbol));\n    }\n    return symbol;\n  });\n\n  if (prop) {\n    node[prop] = walked;\n  } else {\n    node = walked;\n  }\n\n  if (children.length) {\n    children.push(node);\n\n    return new nodes.NodeList(\n      node.lineno,\n      node.colno,\n      children\n    );\n  } else {\n    return node;\n  }\n}\n\nfunction liftFilters(ast, asyncFilters) {\n  return depthWalk(ast, (node) => {\n    if (node instanceof nodes.Output) {\n      return _liftFilters(node, asyncFilters);\n    } else if (node instanceof nodes.Set) {\n      return _liftFilters(node, asyncFilters, 'value');\n    } else if (node instanceof nodes.For) {\n      return _liftFilters(node, asyncFilters, 'arr');\n    } else if (node instanceof nodes.If) {\n      return _liftFilters(node, asyncFilters, 'cond');\n    } else if (node instanceof nodes.CallExtension) {\n      return _liftFilters(node, asyncFilters, 'args');\n    } else {\n      return undefined;\n    }\n  });\n}\n\nfunction liftSuper(ast) {\n  return walk(ast, (blockNode) => {\n    if (!(blockNode instanceof nodes.Block)) {\n      return;\n    }\n\n    let hasSuper = false;\n    const symbol = gensym();\n\n    blockNode.body = walk(blockNode.body, (node) => { // eslint-disable-line consistent-return\n      if (node instanceof nodes.FunCall && node.name.value === 'super') {\n        hasSuper = true;\n        return new nodes.Symbol(node.lineno, node.colno, symbol);\n      }\n    });\n\n    if (hasSuper) {\n      blockNode.body.children.unshift(new nodes.Super(\n        0, 0, blockNode.name, new nodes.Symbol(0, 0, symbol)\n      ));\n    }\n  });\n}\n\nfunction convertStatements(ast) {\n  return depthWalk(ast, (node) => {\n    if (!(node instanceof nodes.If) && !(node instanceof nodes.For)) {\n      return undefined;\n    }\n\n    let async = false;\n    walk(node, (child) => {\n      if (child instanceof nodes.FilterAsync ||\n        child instanceof nodes.IfAsync ||\n        child instanceof nodes.AsyncEach ||\n        child instanceof nodes.AsyncAll ||\n        child instanceof nodes.CallExtensionAsync) {\n        async = true;\n        // Stop iterating by returning the node\n        return child;\n      }\n      return undefined;\n    });\n\n    if (async) {\n      if (node instanceof nodes.If) {\n        return new nodes.IfAsync(\n          node.lineno,\n          node.colno,\n          node.cond,\n          node.body,\n          node.else_\n        );\n      } else if (node instanceof nodes.For && !(node instanceof nodes.AsyncAll)) {\n        return new nodes.AsyncEach(\n          node.lineno,\n          node.colno,\n          node.arr,\n          node.name,\n          node.body,\n          node.else_\n        );\n      }\n    }\n    return undefined;\n  });\n}\n\nfunction cps(ast, asyncFilters) {\n  return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n}\n\nfunction transform(ast, asyncFilters) {\n  return cps(ast, asyncFilters || []);\n}\n\n// var parser = require('./parser');\n// var src = 'hello {% foo %}{% endfoo %} end';\n// var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n// nodes.printNodes(ast);\n\nmodule.exports = {\n  transform: transform\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/transformer.js","'use strict';\n\nvar lib = require('./lib');\nvar r = require('./runtime');\n\nvar exports = module.exports = {};\n\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexports.abs = Math.abs;\n\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n\n    tmp.push(arr[i]);\n  }\n\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n\n    res.push(tmp);\n  }\n\n  return res;\n}\n\nexports.batch = batch;\n\nfunction capitalize(str) {\n  str = normalize(str, '');\n  const ret = str.toLowerCase();\n  return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\n\nexports.capitalize = capitalize;\n\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n\n  if (str.length >= width) {\n    return str;\n  }\n\n  const spaces = width - str.length;\n  const pre = lib.repeat(' ', (spaces / 2) - (spaces % 2));\n  const post = lib.repeat(' ', spaces / 2);\n  return r.copySafeness(str, pre + str + post);\n}\n\nexports.center = center;\n\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return (val !== undefined) ? val : def;\n  }\n}\n\n// TODO: it is confusing to export something called 'default'\nexports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!lib.isObject(val)) {\n    throw new lib.TemplateError('dictsort filter: val must be an object');\n  }\n\n  let array = [];\n  // deliberately include properties from the object's prototype\n  for (let k in val) { // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n\n  let si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new lib.TemplateError(\n      'dictsort filter: You can only sort by either key or value');\n  }\n\n  array.sort((t1, t2) => {\n    var a = t1[si];\n    var b = t2[si];\n\n    if (!caseSensitive) {\n      if (lib.isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (lib.isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n\n    return a > b ? 1 : (a === b ? 0 : -1); // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\n\nexports.dictsort = dictsort;\n\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\n\nexports.dump = dump;\n\nfunction escape(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.escape = escape;\n\nfunction safe(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(str.toString());\n}\n\nexports.safe = safe;\n\nfunction first(arr) {\n  return arr[0];\n}\n\nexports.first = first;\n\nfunction forceescape(str) {\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.forceescape = forceescape;\n\nfunction groupby(arr, attr) {\n  return lib.groupBy(arr, attr, this.env.opts.throwOnUndefined);\n}\n\nexports.groupby = groupby;\n\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n\n  if (str === '') {\n    return '';\n  }\n\n  width = width || 4;\n  // let res = '';\n  const lines = str.split('\\n');\n  const sp = lib.repeat(' ', width);\n\n  const res = lines.map((l, i) => {\n    return (i === 0 && !indentfirst) ? l : `${sp}${l}`;\n  }).join('\\n');\n\n  return r.copySafeness(str, res);\n}\n\nexports.indent = indent;\n\nfunction join(arr, del, attr) {\n  del = del || '';\n\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return arr.join(del);\n}\n\nexports.join = join;\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nexports.last = last;\n\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n\n  if (value !== undefined) {\n    if (\n      (typeof Map === 'function' && value instanceof Map) ||\n      (typeof Set === 'function' && value instanceof Set)\n    ) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return lib.keys(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\n\nexports.length = lengthFilter;\n\nfunction list(val) {\n  if (lib.isString(val)) {\n    return val.split('');\n  } else if (lib.isObject(val)) {\n    return lib._entries(val || {}).map(([key, value]) => ({key, value}));\n  } else if (lib.isArray(val)) {\n    return val;\n  } else {\n    throw new lib.TemplateError('list filter: type not iterable');\n  }\n}\n\nexports.list = list;\n\nfunction lower(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\n\nexports.lower = lower;\n\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\n\nexports.nl2br = nl2br;\n\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexports.random = random;\n\n/**\n * Construct select or reject filter\n *\n * @param {boolean} expectedTestResult\n * @returns {function(array, string, *): array}\n */\nfunction getSelectOrReject(expectedTestResult) {\n  function filter(arr, testName = 'truthy', secondArg) {\n    const context = this;\n    const test = context.env.getTest(testName);\n\n    return lib.toArray(arr).filter(function examineTestResult(item) {\n      return test.call(context, item, secondArg) === expectedTestResult;\n    });\n  }\n\n  return filter;\n}\n\nexports.reject = getSelectOrReject(false);\n\nfunction rejectattr(arr, attr) {\n  return arr.filter((item) => !item[attr]);\n}\n\nexports.rejectattr = rejectattr;\n\nexports.select = getSelectOrReject(true);\n\nfunction selectattr(arr, attr) {\n  return arr.filter((item) => !!item[attr]);\n}\n\nexports.selectattr = selectattr;\n\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n\n  let res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return r.copySafeness(str, res);\n  }\n\n  let nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n\n  let pos = 0;\n  let count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n\n  return r.copySafeness(originalStr, res);\n}\n\nexports.replace = replace;\n\nfunction reverse(val) {\n  var arr;\n  if (lib.isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = lib.map(val, v => v);\n  }\n\n  arr.reverse();\n\n  if (lib.isString(val)) {\n    return r.copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\n\nexports.reverse = reverse;\n\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  const factor = Math.pow(10, precision);\n  let rounder;\n\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n\n  return rounder(val * factor) / factor;\n}\n\nexports.round = round;\n\nfunction slice(arr, slices, fillWith) {\n  const sliceLength = Math.floor(arr.length / slices);\n  const extra = arr.length % slices;\n  const res = [];\n  let offset = 0;\n\n  for (let i = 0; i < slices; i++) {\n    const start = offset + (i * sliceLength);\n    if (i < extra) {\n      offset++;\n    }\n    const end = offset + ((i + 1) * sliceLength);\n\n    const currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n\n  return res;\n}\n\nexports.slice = slice;\n\nfunction sum(arr, attr, start = 0) {\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return start + arr.reduce((a, b) => a + b, 0);\n}\n\nexports.sum = sum;\n\nexports.sort = r.makeMacro(\n  ['value', 'reverse', 'case_sensitive', 'attribute'], [],\n  function sortFilter(arr, reversed, caseSens, attr) {\n    // Copy it\n    let array = lib.map(arr, v => v);\n    let getAttribute = lib.getAttrGetter(attr);\n\n    array.sort((a, b) => {\n      let x = (attr) ? getAttribute(a) : a;\n      let y = (attr) ? getAttribute(b) : b;\n\n      if (\n        this.env.opts.throwOnUndefined &&\n        attr && (x === undefined || y === undefined)\n      ) {\n        throw new TypeError(`sort: attribute \"${attr}\" resolved to undefined`);\n      }\n\n      if (!caseSens && lib.isString(x) && lib.isString(y)) {\n        x = x.toLowerCase();\n        y = y.toLowerCase();\n      }\n\n      if (x < y) {\n        return reversed ? 1 : -1;\n      } else if (x > y) {\n        return reversed ? -1 : 1;\n      } else {\n        return 0;\n      }\n    });\n\n    return array;\n  });\n\nfunction string(obj) {\n  return r.copySafeness(obj, obj);\n}\n\nexports.string = string;\n\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  let tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  let trimmedInput = trim(input.replace(tags, ''));\n  let res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput\n      .replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n      .replace(/ +/g, ' ') // squash adjacent spaces\n      .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n      .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return r.copySafeness(input, res);\n}\n\nexports.striptags = striptags;\n\nfunction title(str) {\n  str = normalize(str, '');\n  let words = str.split(' ').map(word => capitalize(word));\n  return r.copySafeness(str, words.join(' '));\n}\n\nexports.title = title;\n\nfunction trim(str) {\n  return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\n\nexports.trim = trim;\n\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n\n  if (input.length <= length) {\n    return input;\n  }\n\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    let idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n\n    input = input.substring(0, idx);\n  }\n\n  input += (end !== undefined && end !== null) ? end : '...';\n  return r.copySafeness(orig, input);\n}\n\nexports.truncate = truncate;\n\nfunction upper(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\n\nexports.upper = upper;\n\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (lib.isString(obj)) {\n    return enc(obj);\n  } else {\n    let keyvals = (lib.isArray(obj)) ? obj : lib._entries(obj);\n    return keyvals.map(([k, v]) => `${enc(k)}=${enc(v)}`).join('&');\n  }\n}\n\nexports.urlencode = urlencode;\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nconst puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nconst emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nconst httpHttpsRe = /^https?:\\/\\/.*$/;\nconst wwwRe = /^www\\./;\nconst tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n\n  const noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n  const words = str.split(/(\\s+)/).filter((word) => {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map((word) => {\n    var matches = word.match(puncRe);\n    var possibleUrl = (matches) ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return `<a href=\"${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return `<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>`;\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    return word;\n  });\n\n  return words.join('');\n}\n\nexports.urlize = urlize;\n\nfunction wordcount(str) {\n  str = normalize(str, '');\n  const words = (str) ? str.match(/\\w+/g) : null;\n  return (words) ? words.length : null;\n}\n\nexports.wordcount = wordcount;\n\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.float = float;\n\nconst intFilter = r.makeMacro(\n  ['value', 'default', 'base'],\n  [],\n  function doInt(value, defaultValue, base = 10) {\n    var res = parseInt(value, base);\n    return (isNaN(res)) ? defaultValue : res;\n  }\n);\n\nexports.int = intFilter;\n\n// Aliases\nexports.d = exports.default;\nexports.e = exports.escape;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/filters.js","'use strict';\n\nconst Loader = require('./loader');\n\nclass PrecompiledLoader extends Loader {\n  constructor(compiledTemplates) {\n    super();\n    this.precompiled = compiledTemplates || {};\n  }\n\n  getSource(name) {\n    if (this.precompiled[name]) {\n      return {\n        src: {\n          type: 'code',\n          obj: this.precompiled[name]\n        },\n        path: name\n      };\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  PrecompiledLoader: PrecompiledLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompiled-loader.js","'use strict';\n\nvar SafeString = require('./runtime').SafeString;\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\n\nexports.callable = callable;\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\n\nexports.defined = defined;\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return (one % two) === 0;\n}\n\nexports.divisibleby = divisibleby;\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\n\nexports.escaped = escaped;\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\n\nexports.equalto = equalto;\n\n// Aliases\nexports.eq = exports.equalto;\nexports.sameas = exports.equalto;\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\n\nexports.even = even;\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\n\nexports.falsy = falsy;\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\n\nexports.ge = ge;\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\n\nexports.greaterthan = greaterthan;\n\n// alias\nexports.gt = exports.greaterthan;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\n\nexports.le = le;\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\n\nexports.lessthan = lessthan;\n\n// alias\nexports.lt = exports.lessthan;\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\n\nexports.lower = lower;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\n\nexports.ne = ne;\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\n\nexports.null = nullTest;\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\n\nexports.number = number;\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\n\nexports.odd = odd;\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\n\nexports.string = string;\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\n\nexports.truthy = truthy;\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\n\nexports.undefined = undefinedTest;\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\n\nexports.upper = upper;\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\n\nexports.iterable = iterable;\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null\n    && value !== undefined\n    && typeof value === 'object'\n    && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\n\nexports.mapping = mapping;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/tests.js","'use strict';\n\nfunction cycler(items) {\n  var index = -1;\n\n  return {\n    current: null,\n    reset() {\n      index = -1;\n      this.current = null;\n    },\n\n    next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n\n      this.current = items[index];\n      return this.current;\n    },\n  };\n}\n\nfunction joiner(sep) {\n  sep = sep || ',';\n  let first = true;\n\n  return () => {\n    const val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n\n      const arr = [];\n      if (step > 0) {\n        for (let i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (let i = start; i > stop; i += step) { // eslint-disable-line for-direction\n          arr.push(i);\n        }\n      }\n      return arr;\n    },\n\n    cycler() {\n      return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner(sep) {\n      return joiner(sep);\n    }\n  };\n}\n\nmodule.exports = globals;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/globals.js","const path = require('path');\n\nmodule.exports = function express(env, app) {\n  function NunjucksView(name, opts) {\n    this.name = name;\n    this.path = name;\n    this.defaultEngine = opts.defaultEngine;\n    this.ext = path.extname(name);\n    if (!this.ext && !this.defaultEngine) {\n      throw new Error('No default engine was specified and no extension was provided.');\n    }\n    if (!this.ext) {\n      this.name += (this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine);\n    }\n  }\n\n  NunjucksView.prototype.render = function render(opts, cb) {\n    env.render(this.name, opts, cb);\n  };\n\n  app.set('view', NunjucksView);\n  app.set('nunjucksEnv', env);\n  return env;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/express-app.js","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst {_prettifyError} = require('./lib');\nconst compiler = require('./compiler');\nconst {Environment} = require('./environment');\nconst precompileGlobal = require('./precompile-global');\n\nfunction match(filename, patterns) {\n  if (!Array.isArray(patterns)) {\n    return false;\n  }\n  return patterns.some((pattern) => filename.match(pattern));\n}\n\nfunction precompileString(str, opts) {\n  opts = opts || {};\n  opts.isString = true;\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (!opts.name) {\n    throw new Error('the \"name\" option is required when compiling a string');\n  }\n  return wrapper([_precompile(str, opts.name, env)], opts);\n}\n\nfunction precompile(input, opts) {\n  // The following options are available:\n  //\n  // * name: name of the template (auto-generated when compiling a directory)\n  // * isString: input is a string, not a file path\n  // * asFunction: generate a callable function\n  // * force: keep compiling on error\n  // * env: the Environment to use (gets extensions and async filters from it)\n  // * include: which file/folders to include (folders are auto-included, files are auto-excluded)\n  // * exclude: which file/folders to exclude (folders are auto-included, files are auto-excluded)\n  // * wrapper: function(templates, opts) {...}\n  //       Customize the output format to store the compiled template.\n  //       By default, templates are stored in a global variable used by the runtime.\n  //       A custom loader will be necessary to load your custom wrapper.\n\n  opts = opts || {};\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (opts.isString) {\n    return precompileString(input, opts);\n  }\n\n  const pathStats = fs.existsSync(input) && fs.statSync(input);\n  const precompiled = [];\n  const templates = [];\n\n  function addTemplates(dir) {\n    fs.readdirSync(dir).forEach((file) => {\n      const filepath = path.join(dir, file);\n      let subpath = filepath.substr(path.join(input, '/').length);\n      const stat = fs.statSync(filepath);\n\n      if (stat && stat.isDirectory()) {\n        subpath += '/';\n        if (!match(subpath, opts.exclude)) {\n          addTemplates(filepath);\n        }\n      } else if (match(subpath, opts.include)) {\n        templates.push(filepath);\n      }\n    });\n  }\n\n  if (pathStats.isFile()) {\n    precompiled.push(_precompile(\n      fs.readFileSync(input, 'utf-8'),\n      opts.name || input,\n      env\n    ));\n  } else if (pathStats.isDirectory()) {\n    addTemplates(input);\n\n    for (let i = 0; i < templates.length; i++) {\n      const name = templates[i].replace(path.join(input, '/'), '');\n\n      try {\n        precompiled.push(_precompile(\n          fs.readFileSync(templates[i], 'utf-8'),\n          name,\n          env\n        ));\n      } catch (e) {\n        if (opts.force) {\n          // Don't stop generating the output if we're\n          // forcing compilation.\n          console.error(e); // eslint-disable-line no-console\n        } else {\n          throw e;\n        }\n      }\n    }\n  }\n\n  return wrapper(precompiled, opts);\n}\n\nfunction _precompile(str, name, env) {\n  env = env || new Environment([]);\n\n  const asyncFilters = env.asyncFilters;\n  const extensions = env.extensionsList;\n  let template;\n\n  name = name.replace(/\\\\/g, '/');\n\n  try {\n    template = compiler.compile(str,\n      asyncFilters,\n      extensions,\n      name,\n      env.opts);\n  } catch (err) {\n    throw _prettifyError(name, false, err);\n  }\n\n  return {\n    name: name,\n    template: template\n  };\n}\n\nmodule.exports = {\n  precompile: precompile,\n  precompileString: precompileString\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile.js","'use strict';\n\nfunction precompileGlobal(templates, opts) {\n  var out = '';\n  opts = opts || {};\n\n  for (let i = 0; i < templates.length; i++) {\n    const name = JSON.stringify(templates[i].name);\n    const template = templates[i].template;\n\n    out += '(function() {' +\n      '(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})' +\n      '[' + name + '] = (function() {\\n' + template + '\\n})();\\n';\n\n    if (opts.asFunction) {\n      out += 'return function(ctx, cb) { return nunjucks.render(' + name + ', ctx, cb); }\\n';\n    }\n\n    out += '})();\\n';\n  }\n  return out;\n}\n\nmodule.exports = precompileGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile-global.js","function installCompat() {\n  'use strict';\n\n  /* eslint-disable camelcase */\n\n  // This must be called like `nunjucks.installCompat` so that `this`\n  // references the nunjucks instance\n  var runtime = this.runtime;\n  var lib = this.lib;\n  // Handle slim case where these 'modules' are excluded from the built source\n  var Compiler = this.compiler.Compiler;\n  var Parser = this.parser.Parser;\n  var nodes = this.nodes;\n  var lexer = this.lexer;\n\n  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n  var orig_memberLookup = runtime.memberLookup;\n  var orig_Compiler_assertType;\n  var orig_Parser_parseAggregate;\n  if (Compiler) {\n    orig_Compiler_assertType = Compiler.prototype.assertType;\n  }\n  if (Parser) {\n    orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n  }\n\n  function uninstall() {\n    runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n    runtime.memberLookup = orig_memberLookup;\n    if (Compiler) {\n      Compiler.prototype.assertType = orig_Compiler_assertType;\n    }\n    if (Parser) {\n      Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n    }\n  }\n\n  runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n    var val = orig_contextOrFrameLookup.apply(this, arguments);\n    if (val !== undefined) {\n      return val;\n    }\n    switch (key) {\n      case 'True':\n        return true;\n      case 'False':\n        return false;\n      case 'None':\n        return null;\n      default:\n        return undefined;\n    }\n  };\n\n  function getTokensState(tokens) {\n    return {\n      index: tokens.index,\n      lineno: tokens.lineno,\n      colno: tokens.colno\n    };\n  }\n\n  if (process.env.BUILD_TYPE !== 'SLIM' && nodes && Compiler && Parser) { // i.e., not slim mode\n    const Slice = nodes.Node.extend('Slice', {\n      fields: ['start', 'stop', 'step'],\n      init(lineno, colno, start, stop, step) {\n        start = start || new nodes.Literal(lineno, colno, null);\n        stop = stop || new nodes.Literal(lineno, colno, null);\n        step = step || new nodes.Literal(lineno, colno, 1);\n        this.parent(lineno, colno, start, stop, step);\n      }\n    });\n\n    Compiler.prototype.assertType = function assertType(node) {\n      if (node instanceof Slice) {\n        return;\n      }\n      orig_Compiler_assertType.apply(this, arguments);\n    };\n    Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n      this._emit('(');\n      this._compileExpression(node.start, frame);\n      this._emit('),(');\n      this._compileExpression(node.stop, frame);\n      this._emit('),(');\n      this._compileExpression(node.step, frame);\n      this._emit(')');\n    };\n\n    Parser.prototype.parseAggregate = function parseAggregate() {\n      var origState = getTokensState(this.tokens);\n      // Set back one accounting for opening bracket/parens\n      origState.colno--;\n      origState.index--;\n      try {\n        return orig_Parser_parseAggregate.apply(this);\n      } catch (e) {\n        const errState = getTokensState(this.tokens);\n        const rethrow = () => {\n          lib._assign(this.tokens, errState);\n          return e;\n        };\n\n        // Reset to state before original parseAggregate called\n        lib._assign(this.tokens, origState);\n        this.peeked = false;\n\n        const tok = this.peekToken();\n        if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n          throw rethrow();\n        } else {\n          this.nextToken();\n        }\n\n        const node = new Slice(tok.lineno, tok.colno);\n\n        // If we don't encounter a colon while parsing, this is not a slice,\n        // so re-raise the original exception.\n        let isSlice = false;\n\n        for (let i = 0; i <= node.fields.length; i++) {\n          if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n            break;\n          }\n          if (i === node.fields.length) {\n            if (isSlice) {\n              this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n            } else {\n              break;\n            }\n          }\n          if (this.skip(lexer.TOKEN_COLON)) {\n            isSlice = true;\n          } else {\n            const field = node.fields[i];\n            node[field] = this.parseExpression();\n            isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n          }\n        }\n        if (!isSlice) {\n          throw rethrow();\n        }\n        return new nodes.Array(tok.lineno, tok.colno, [node]);\n      }\n    };\n  }\n\n  function sliceLookup(obj, start, stop, step) {\n    obj = obj || [];\n    if (start === null) {\n      start = (step < 0) ? (obj.length - 1) : 0;\n    }\n    if (stop === null) {\n      stop = (step < 0) ? -1 : obj.length;\n    } else if (stop < 0) {\n      stop += obj.length;\n    }\n\n    if (start < 0) {\n      start += obj.length;\n    }\n\n    const results = [];\n\n    for (let i = start; ; i += step) {\n      if (i < 0 || i > obj.length) {\n        break;\n      }\n      if (step > 0 && i >= stop) {\n        break;\n      }\n      if (step < 0 && i <= stop) {\n        break;\n      }\n      results.push(runtime.memberLookup(obj, i));\n    }\n    return results;\n  }\n\n  function hasOwnProp(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  const ARRAY_MEMBERS = {\n    pop(index) {\n      if (index === undefined) {\n        return this.pop();\n      }\n      if (index >= this.length || index < 0) {\n        throw new Error('KeyError');\n      }\n      return this.splice(index, 1);\n    },\n    append(element) {\n      return this.push(element);\n    },\n    remove(element) {\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          return this.splice(i, 1);\n        }\n      }\n      throw new Error('ValueError');\n    },\n    count(element) {\n      var count = 0;\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          count++;\n        }\n      }\n      return count;\n    },\n    index(element) {\n      var i;\n      if ((i = this.indexOf(element)) === -1) {\n        throw new Error('ValueError');\n      }\n      return i;\n    },\n    find(element) {\n      return this.indexOf(element);\n    },\n    insert(index, elem) {\n      return this.splice(index, 0, elem);\n    }\n  };\n  const OBJECT_MEMBERS = {\n    items() {\n      return lib._entries(this);\n    },\n    values() {\n      return lib._values(this);\n    },\n    keys() {\n      return lib.keys(this);\n    },\n    get(key, def) {\n      var output = this[key];\n      if (output === undefined) {\n        output = def;\n      }\n      return output;\n    },\n    has_key(key) {\n      return hasOwnProp(this, key);\n    },\n    pop(key, def) {\n      var output = this[key];\n      if (output === undefined && def !== undefined) {\n        output = def;\n      } else if (output === undefined) {\n        throw new Error('KeyError');\n      } else {\n        delete this[key];\n      }\n      return output;\n    },\n    popitem() {\n      const keys = lib.keys(this);\n      if (!keys.length) {\n        throw new Error('KeyError');\n      }\n      const k = keys[0];\n      const val = this[k];\n      delete this[k];\n      return [k, val];\n    },\n    setdefault(key, def = null) {\n      if (!(key in this)) {\n        this[key] = def;\n      }\n      return this[key];\n    },\n    update(kwargs) {\n      lib._assign(this, kwargs);\n      return null; // Always returns None\n    }\n  };\n  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n\n  runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n    if (arguments.length === 4) {\n      return sliceLookup.apply(this, arguments);\n    }\n    obj = obj || {};\n\n    // If the object is an object, return any of the methods that Python would\n    // otherwise provide.\n    if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n      return ARRAY_MEMBERS[val].bind(obj);\n    }\n    if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n      return OBJECT_MEMBERS[val].bind(obj);\n    }\n\n    return orig_memberLookup.apply(this, arguments);\n  };\n\n  return uninstall;\n}\n\nmodule.exports = installCompat;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/jinja-compat.js"],"sourceRoot":""}